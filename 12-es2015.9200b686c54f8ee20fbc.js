(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{RStt:function(t,n,e){"use strict";e.r(n),e.d(n,"ApprovedAnnotationPageModule",(function(){return P}));var o=e("ofXK"),i=e("3Pt+"),a=e("TEn/"),c=e("tyNb"),s=e("mrSG"),r=e("VQbp"),l=e("nKRM"),d=e("QuQm"),p=e("fXoL"),b=e("KJTt"),g=e("nF61"),h=e("2MiI"),u=e("lDzL"),f=e("LmEr");function m(t,n){if(1&t){const t=p.Sb();p.Rb(0,"ion-item",17),p.Nb(1,"ion-text",18),p.Rb(2,"ion-buttons",19),p.Rb(3,"ion-button",20),p.Zb("click",(function(){p.qc(t);const e=n.$implicit;return p.bc().deleteAnnotation(e)})),p.Nb(4,"ion-icon",21),p.Rb(5,"ion-label"),p.zc(6,"Delete"),p.Qb(),p.Qb(),p.Rb(7,"ion-button",22),p.Zb("click",(function(){p.qc(t);const e=n.$implicit;return p.bc().editAnnotation(e)})),p.Nb(8,"ion-icon",23),p.Rb(9,"ion-label"),p.zc(10,"Edit"),p.Qb(),p.Qb(),p.Qb(),p.Qb()}if(2&t){const t=n.$implicit;p.Ab(1),p.ic("innerHTML",t.plant+" and "+t.components,p.rc)}}function v(t,n){if(1&t&&p.Nb(0,"span",18),2&t){const t=p.bc().value;p.ic("innerHTML",t,p.rc)}}function w(t,n){if(1&t){const t=p.Sb();p.Rb(0,"span"),p.Rb(1,"ion-button",28),p.Zb("click",(function(){p.qc(t);const n=p.bc().row;return p.bc(2).openInfo(n)})),p.Nb(2,"ion-icon",29),p.Qb(),p.Qb()}}function A(t,n){if(1&t&&(p.xc(0,v,1,1,"span",26),p.xc(1,w,3,0,"span",27)),2&t){const t=p.bc().$implicit;p.ic("ngIf","More Info"!==t.name),p.Ab(1),p.ic("ngIf","More Info"===t.name)}}function y(t,n){1&t&&(p.Rb(0,"ngx-datatable-column",24),p.xc(1,A,2,2,"ng-template",25),p.Qb()),2&t&&p.ic("name",n.$implicit.name)("width",200)}const R=[{path:"",component:(()=>{class t{constructor(t,n,e,o,i){this.pagePositionService=t,this.annotationService=n,this.modalController=e,this.alertController=o,this.toastController=i,this.pageAtTop=!0,this.page=new d.a,this.rows=new Array,this.selected=[],this.columns=[{name:"Product"},{name:"Plant"},{name:"Components"},{name:"Study"},{name:"Interactions"},{name:"Significance"},{name:"Descriptions"},{name:"More Info"}],this.page.limit=5}ngOnInit(){this.innerWidth=window.innerWidth,this.setPage({offset:0}),this.selected=[]}onResize(t){this.innerWidth=window.innerWidth}onScroll(t){this.pageAtTop=this.pagePositionService.isPageAtTop(t)}setPage(t){this.page.offset=t.offset,this.page.approved="approved",this.annotationService.getAnnotationList(this.page).subscribe(t=>{this.page.offset=t.offset,this.page.totalAnnotations=t.total,this.page.totalPage=t.pages,this.rows=t.result.map(t=>({_id:t._id,product:t.product,plant:t.plant,components:t.components,study:t.study,interactions:t.interactions,significance:t.significance,comments:t.comments,descriptions:t.descriptions,approved:t.approved,articleId:t.articles}))})}onSort(t){this.page.orderBy=t.column.name.toLowerCase(),this.page.isAscending="asc"===t.newValue,this.page.approved="pending",this.annotationService.getAnnotationList(this.page).subscribe(t=>{this.page.offset=t.offset,this.page.totalAnnotations=t.total,this.page.totalPage=t.pages,this.rows=t.articles.map(t=>({_id:t._id,product:t.product,plant:t.plant,components:t.components,study:t.study,interactions:t.interactions,significance:t.significance,comments:t.comments,descriptions:t.descriptions,approved:t.approved,articleId:t.articles}))})}onSelect({}){}openInfo(t){return Object(s.a)(this,void 0,void 0,(function*(){const n=yield this.modalController.create({cssClass:"custom-lg-modal",component:r.a,componentProps:{annotation:t}});return yield n.present()}))}editAnnotation(t){return Object(s.a)(this,void 0,void 0,(function*(){const n=yield this.modalController.create({cssClass:"custom-lg-modal",component:l.a,componentProps:{annotation:t}});yield n.present(),yield n.onWillDismiss().then(()=>{this.ngOnInit()})}))}deleteAnnotation(t){return Object(s.a)(this,void 0,void 0,(function*(){const n=yield this.alertController.create({cssClass:"my-custom-class",header:"Permenantly delete selected data annotation",message:"Are you sure you want to delete this data annotation? This action cannot be undone.",buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>{this.annotationService.deleteAnnotation(t).subscribe(()=>Object(s.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({header:"Delete selected data annotation success!",color:"success",duration:2e3})).present(),this.ngOnInit()})),()=>Object(s.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({header:"Fail to delete selected data annotation!",color:"danger",duration:2e3})).present(),this.ngOnInit()})))}}]});yield n.present()}))}}return t.\u0275fac=function(n){return new(n||t)(p.Mb(b.a),p.Mb(g.a),p.Mb(a.R),p.Mb(a.a),p.Mb(a.Y))},t.\u0275cmp=p.Gb({type:t,selectors:[["app-approved-annotation"]],hostBindings:function(t,n){1&t&&p.Zb("resize",(function(t){return n.onResize(t)}),!1,p.pc)},decls:27,vars:18,consts:[[3,"pageAtTop"],[3,"fullscreen","scrollEvents","ionScroll"],["id","container"],["id","navi"],[1,"circle-1"],["id","infoi"],[1,"ion-no-padding","page-height"],["size","1"],["size","10","size-lg","6"],[1,"home-title"],[1,"home-subtitle"],["size","0","size-md","1"],["size","12","size-md","10"],["lines","none","color","light",4,"ngFor","ngForOf"],["rowHeight","auto",1,"material",2,"margin-bottom","20vh",3,"rows","columnMode","headerHeight","footerHeight","externalPaging","count","offset","limit","scrollbarH","selected","selectionType","externalSorting","page","select","sort"],[3,"name","width",4,"ngFor","ngForOf"],[3,"innerWidth"],["lines","none","color","light"],[3,"innerHTML"],["slot","end"],["color","danger","fill","solid",3,"click"],["name","trash","slot","start"],["color","warning","fill","solid",3,"click"],["name","create-outline"],[3,"name","width"],["ngx-datatable-cell-template",""],[3,"innerHTML",4,"ngIf"],[4,"ngIf"],["shape","round","fill","clear",3,"click"],["name","information-circle","color","tertiary"]],template:function(t,n){1&t&&(p.Rb(0,"ion-header"),p.Nb(1,"app-header",0),p.Qb(),p.Rb(2,"ion-content",1),p.Zb("ionScroll",(function(t){return n.onScroll(t)})),p.Rb(3,"div",2),p.Rb(4,"div",3),p.Nb(5,"span",4),p.Qb(),p.Rb(6,"div",5),p.Rb(7,"ion-grid",6),p.Rb(8,"ion-row"),p.Nb(9,"ion-col",7),p.Rb(10,"ion-col",8),p.Rb(11,"h1",9),p.zc(12,"All Approved Data Annotation"),p.Qb(),p.Rb(13,"p",10),p.zc(14,"List of all approved data annotations for all articles."),p.Qb(),p.Qb(),p.Qb(),p.Rb(15,"ion-row"),p.Nb(16,"ion-col",11),p.Rb(17,"ion-col",12),p.xc(18,m,11,1,"ion-item",13),p.Qb(),p.Nb(19,"ion-col",11),p.Qb(),p.Rb(20,"ion-row"),p.Nb(21,"ion-col",11),p.Rb(22,"ion-col",12),p.Rb(23,"ngx-datatable",14),p.Zb("page",(function(t){return n.setPage(t)}))("select",(function(t){return n.onSelect(t)}))("sort",(function(t){return n.onSort(t)})),p.xc(24,y,2,2,"ngx-datatable-column",15),p.Qb(),p.Qb(),p.Nb(25,"ion-col",11),p.Qb(),p.Qb(),p.Nb(26,"app-footer",16),p.Qb(),p.Qb(),p.Qb()),2&t&&(p.Ab(1),p.ic("pageAtTop",n.pageAtTop),p.Ab(1),p.ic("fullscreen",!0)("scrollEvents",!0),p.Ab(16),p.ic("ngForOf",n.selected),p.Ab(5),p.ic("rows",n.rows)("columnMode","force")("headerHeight",50)("footerHeight",50)("externalPaging",!0)("count",n.page.totalAnnotations)("offset",n.page.offset)("limit",n.page.limit)("scrollbarH",!0)("selected",n.selected)("selectionType","single")("externalSorting",!0),p.Ab(1),p.ic("ngForOf",n.columns),p.Ab(2),p.ic("innerWidth",n.innerWidth))},directives:[a.q,h.a,a.n,a.p,a.C,a.m,o.k,u.c,f.a,a.t,a.K,a.f,a.e,a.r,a.u,u.b,u.a,o.l],styles:[".circle-1[_ngcontent-%COMP%]{right:-434px;top:-554px;height:868px;width:868px}.circle-1[_ngcontent-%COMP%], .circle-2[_ngcontent-%COMP%]{position:absolute;background-color:#bbb;border-radius:50%;display:inline-block;background:#6078ea;background:linear-gradient(201deg,#6078ea,#17ead9)}.circle-2[_ngcontent-%COMP%]{left:-200px;top:1200px;height:500px;width:500px}#container[_ngcontent-%COMP%]{position:relative}#infoi[_ngcontent-%COMP%], #navi[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}#infoi[_ngcontent-%COMP%]{z-index:1}.page-height[_ngcontent-%COMP%]{min-height:100vh}"]}),t})()}];let Q=(()=>{class t{}return t.\u0275mod=p.Kb({type:t}),t.\u0275inj=p.Jb({factory:function(n){return new(n||t)},imports:[[c.i.forChild(R)],c.i]}),t})();var M=e("iWjc");let P=(()=>{class t{}return t.\u0275mod=p.Kb({type:t}),t.\u0275inj=p.Jb({factory:function(n){return new(n||t)},imports:[[o.c,i.a,a.O,Q,u.d,M.a]]}),t})()}}]);