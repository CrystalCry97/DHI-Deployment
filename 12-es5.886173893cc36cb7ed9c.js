function _objectDestructuringEmpty(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{RStt:function(e,n,t){"use strict";t.r(n),t.d(n,"ApprovedAnnotationPageModule",(function(){return M}));var o=t("ofXK"),i=t("3Pt+"),a=t("TEn/"),r=t("tyNb"),c=t("mrSG"),s=t("VQbp"),l=t("nKRM"),u=t("QuQm"),b=t("fXoL"),p=t("KJTt"),d=t("nF61"),g=t("2MiI"),h=t("lDzL"),f=t("LmEr");function m(e,n){if(1&e){var t=b.Sb();b.Rb(0,"ion-item",41),b.Nb(1,"ion-text",42),b.Rb(2,"ion-buttons",43),b.Rb(3,"ion-button",44),b.Zb("click",(function(){b.rc(t);var e=n.$implicit;return b.bc().deleteAnnotation(e)})),b.Nb(4,"ion-icon",45),b.Rb(5,"ion-label"),b.Bc(6,"Delete"),b.Qb(),b.Qb(),b.Rb(7,"ion-button",46),b.Zb("click",(function(){b.rc(t);var e=n.$implicit;return b.bc().editAnnotation(e)})),b.Nb(8,"ion-icon",47),b.Rb(9,"ion-label"),b.Bc(10,"Edit"),b.Qb(),b.Qb(),b.Qb(),b.Qb()}if(2&e){var o=n.$implicit;b.Ab(1),b.ic("innerHTML",o.plant+" and "+o.components,b.sc)}}function v(e,n){if(1&e&&b.Nb(0,"span",42),2&e){var t=b.bc().value;b.ic("innerHTML",t,b.sc)}}function R(e,n){if(1&e){var t=b.Sb();b.Rb(0,"span"),b.Rb(1,"ion-button",52),b.Zb("click",(function(){b.rc(t);var e=b.bc().row;return b.bc(2).openInfo(e)})),b.Nb(2,"ion-icon",53),b.Qb(),b.Qb()}}function Q(e,n){if(1&e&&(b.zc(0,v,1,1,"span",50),b.zc(1,R,3,0,"span",51)),2&e){var t=b.bc().$implicit;b.ic("ngIf","More Info"!==t.name),b.Ab(1),b.ic("ngIf","More Info"===t.name)}}function y(e,n){1&e&&(b.Rb(0,"ngx-datatable-column",48),b.zc(1,Q,2,2,"ng-template",49),b.Qb()),2&e&&b.ic("name",n.$implicit.name)("width",200)}var w,C,x,k=[{path:"",component:(w=function(){function e(n,t,o,i,a,r){_classCallCheck(this,e),this.pagePositionService=n,this.annotationService=t,this.modalController=o,this.alertController=i,this.toastController=a,this.loadingController=r,this.pageAtTop=!0,this.page=new u.a,this.rows=new Array,this.selected=[],this.columns=[{name:"Product"},{name:"Plant"},{name:"Components"},{name:"Study"},{name:"Interactions"},{name:"Significance"},{name:"More Info"}],this.searchText="",this.page.limit=10}return _createClass(e,[{key:"ngOnInit",value:function(){this.innerWidth=window.innerWidth,this.setPage({offset:0}),this.selected=[]}},{key:"onResize",value:function(e){this.innerWidth=window.innerWidth}},{key:"onScroll",value:function(e){this.pageAtTop=this.pagePositionService.isPageAtTop(e)}},{key:"search",value:function(e){var n=this;this.presentLoading();var t=e?e.target.value:this.searchText;this.page.offset=0,this.page.product="",this.page.plant="",this.page.components="",this.page.study="",this.page.interactions="",this.page.significance="","product"===this.page.searchBy?this.page.product=t:"plant"===this.page.searchBy?this.page.plant=t:"components"===this.page.searchBy?this.page.components=t:"study"===this.page.searchBy?this.page.study=t:"interactions"===this.page.searchBy?this.page.interactions=t:"significance"===this.page.searchBy&&(this.page.significance=t),this.annotationService.getAnnotationList(this.page).subscribe((function(e){n.stopLoading(),n.page.offset=e.offset,n.page.totalAnnotations=e.total,n.page.totalPage=e.pages,n.rows=e.result.map((function(e){return{_id:e._id,product:e.product,plant:e.plant,components:e.components,study:e.study,interactions:e.interactions,significance:e.significance,descriptions:e.descriptions,approved:e.approved,articleId:e.articles}}))}),(function(){}),(function(){n.stopLoading()}))}},{key:"presentLoading",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadingController.create({cssClass:"my-custom-class",message:"Searching annotations..."});case 2:return n=e.sent,e.next=5,n.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"stopLoading",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadingController.dismiss();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"setPage",value:function(e){var n=this;this.page.offset=e.offset,this.page.approved="approved",this.annotationService.getAnnotationList(this.page).subscribe((function(e){n.page.offset=e.offset,n.page.totalAnnotations=e.total,n.page.totalPage=e.pages,n.rows=e.result.map((function(e){return{_id:e._id,product:e.product,plant:e.plant,components:e.components,study:e.study,interactions:e.interactions,significance:e.significance,comments:e.comments,descriptions:e.descriptions,approved:e.approved,articleId:e.articles}}))}))}},{key:"onSort",value:function(e){var n=this;this.page.orderBy=e.column.name.toLowerCase(),this.page.isAscending="asc"===e.newValue,this.page.approved="pending",this.annotationService.getAnnotationList(this.page).subscribe((function(e){n.page.offset=e.offset,n.page.totalAnnotations=e.total,n.page.totalPage=e.pages,n.rows=e.articles.map((function(e){return{_id:e._id,product:e.product,plant:e.plant,components:e.components,study:e.study,interactions:e.interactions,significance:e.significance,comments:e.comments,descriptions:e.descriptions,approved:e.approved,articleId:e.articles}}))}))}},{key:"onSelect",value:function(e){_objectDestructuringEmpty(e)}},{key:"openInfo",value:function(e){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.modalController.create({cssClass:"custom-lg-modal",component:s.a,componentProps:{annotation:e}});case 2:return t=n.sent,n.next=5,t.present();case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n,this)})))}},{key:"editAnnotation",value:function(e){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t,o=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.modalController.create({cssClass:"custom-lg-modal",component:l.a,componentProps:{annotation:e}});case 2:return t=n.sent,n.next=5,t.present();case 5:return n.next=7,t.onWillDismiss().then((function(){o.ngOnInit()}));case 7:case"end":return n.stop()}}),n,this)})))}},{key:"deleteAnnotation",value:function(e){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t,o=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Permenantly delete",subHeader:"Are you sure you want to delete this annotation?",message:""+e.plant,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:function(){o.annotationService.deleteAnnotation(e).subscribe((function(){return Object(c.a)(o,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastController.create({header:"Delete selected data annotation success!",color:"success",duration:2e3});case 2:e.sent.present(),this.ngOnInit();case 4:case"end":return e.stop()}}),e,this)})))}),(function(){return Object(c.a)(o,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastController.create({header:"Fail to delete selected data annotation!",color:"danger",duration:2e3});case 2:e.sent.present(),this.ngOnInit();case 4:case"end":return e.stop()}}),e,this)})))}))}}]});case 2:return t=n.sent,n.next=5,t.present();case 5:case"end":return n.stop()}}),n,this)})))}},{key:"changeResultPerPage",value:function(e){this.page.limit=e.detail.value,this.search(!1)}}]),e}(),w.\u0275fac=function(e){return new(e||w)(b.Mb(p.a),b.Mb(d.a),b.Mb(a.S),b.Mb(a.a),b.Mb(a.Z),b.Mb(a.R))},w.\u0275cmp=b.Gb({type:w,selectors:[["app-approved-annotation"]],hostBindings:function(e,n){1&e&&b.Zb("resize",(function(e){return n.onResize(e)}),!1,b.qc)},decls:90,vars:21,consts:[[3,"pageAtTop"],[3,"fullscreen","scrollEvents","ionScroll"],["id","container"],["id","navi"],[1,"circle-1"],["id","infoi"],[1,"ion-no-padding","page-height"],["size","1"],["size","10","size-lg","6"],[1,"home-title"],[1,"home-subtitle"],["size","0","size-md","1"],["size","10","size-md","9"],["showCancelButton","never","animated","","placeholder","Enter your search",3,"ngModel","keyup.enter","ngModelChange"],["size","2","size-md","2"],["color","primary","fill","solid",2,"margin-top","10px",3,"click"],["name","search-outline"],[3,"ngModel","ngModelChange"],[2,"margin-left","7vw","margin-right","7vw"],["lines","none","color","none"],["slot","start","mode","md","item-left","","value","product"],["slot","start","mode","md","item-left","","value","plant"],["slot","start","mode","md","item-left","","value","components"],["slot","start","mode","md","item-left","","value","study"],["slot","start","mode","md","item-left","","value","interactions"],["slot","start","mode","md","item-left","","value","significance"],["size","12","size-md","10"],["lines","none","color","light",4,"ngFor","ngForOf"],[2,"margin","5px 5px"],["size","5","size-md","7"],["lines","none"],[2,"font-size","12px","color","grey"],["size","7","size-md","3"],["interface","popover","value","10",2,"font-size","12px","color","grey",3,"ionChange"],["value","10"],["value","25"],["value","50"],["value","100"],["rowHeight","auto",1,"material",2,"margin-bottom","20vh",3,"rows","columnMode","headerHeight","footerHeight","externalPaging","count","offset","limit","scrollbarH","selected","selectionType","externalSorting","page","select","sort"],[3,"name","width",4,"ngFor","ngForOf"],[3,"innerWidth"],["lines","none","color","light"],[3,"innerHTML"],["slot","end"],["color","danger","fill","solid",3,"click"],["name","trash","slot","start"],["color","warning","fill","solid",3,"click"],["name","create-outline"],[3,"name","width"],["ngx-datatable-cell-template",""],[3,"innerHTML",4,"ngIf"],[4,"ngIf"],["shape","round","fill","clear",3,"click"],["name","information-circle","color","tertiary"]],template:function(e,n){1&e&&(b.Rb(0,"ion-header"),b.Nb(1,"app-header",0),b.Qb(),b.Rb(2,"ion-content",1),b.Zb("ionScroll",(function(e){return n.onScroll(e)})),b.Rb(3,"div",2),b.Rb(4,"div",3),b.Nb(5,"span",4),b.Qb(),b.Rb(6,"div",5),b.Rb(7,"ion-grid",6),b.Rb(8,"ion-row"),b.Nb(9,"ion-col",7),b.Rb(10,"ion-col",8),b.Rb(11,"h1",9),b.Bc(12,"All Approved Data Annotation"),b.Qb(),b.Rb(13,"p",10),b.Bc(14,"List of all approved data annotations for all articles."),b.Qb(),b.Qb(),b.Qb(),b.Rb(15,"ion-row"),b.Nb(16,"ion-col",11),b.Rb(17,"ion-col",12),b.Rb(18,"ion-searchbar",13),b.Zb("keyup.enter",(function(e){return n.search(e)}))("ngModelChange",(function(e){return n.searchText=e})),b.Qb(),b.Qb(),b.Rb(19,"ion-col",14),b.Rb(20,"ion-button",15),b.Zb("click",(function(){return n.search(!1)})),b.Nb(21,"ion-icon",16),b.Qb(),b.Qb(),b.Qb(),b.Rb(22,"ion-radio-group",17),b.Zb("ngModelChange",(function(e){return n.page.searchBy=e})),b.Rb(23,"ion-grid",18),b.Rb(24,"ion-row"),b.Rb(25,"ion-col"),b.Rb(26,"ion-item",19),b.Rb(27,"ion-label"),b.Bc(28,"Search by:"),b.Qb(),b.Qb(),b.Qb(),b.Rb(29,"ion-col"),b.Rb(30,"ion-item",19),b.Rb(31,"ion-label"),b.Bc(32,"Product"),b.Qb(),b.Nb(33,"ion-radio",20),b.Qb(),b.Qb(),b.Rb(34,"ion-col"),b.Rb(35,"ion-item",19),b.Rb(36,"ion-label"),b.Bc(37,"Plant"),b.Qb(),b.Nb(38,"ion-radio",21),b.Qb(),b.Qb(),b.Rb(39,"ion-col"),b.Rb(40,"ion-item",19),b.Rb(41,"ion-label"),b.Bc(42,"Components"),b.Qb(),b.Nb(43,"ion-radio",22),b.Qb(),b.Qb(),b.Rb(44,"ion-col"),b.Rb(45,"ion-item",19),b.Rb(46,"ion-label"),b.Bc(47,"Study"),b.Qb(),b.Nb(48,"ion-radio",23),b.Qb(),b.Qb(),b.Rb(49,"ion-col"),b.Rb(50,"ion-item",19),b.Rb(51,"ion-label"),b.Bc(52,"Interactions"),b.Qb(),b.Nb(53,"ion-radio",24),b.Qb(),b.Qb(),b.Rb(54,"ion-col"),b.Rb(55,"ion-item",19),b.Rb(56,"ion-label"),b.Bc(57,"Significance"),b.Qb(),b.Nb(58,"ion-radio",25),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Rb(59,"ion-row"),b.Nb(60,"ion-col",11),b.Rb(61,"ion-col",26),b.zc(62,m,11,1,"ion-item",27),b.Qb(),b.Nb(63,"ion-col",11),b.Qb(),b.Rb(64,"ion-row",28),b.Nb(65,"ion-col",11),b.Rb(66,"ion-col",29),b.Rb(67,"ion-item",30),b.Rb(68,"ion-label",31),b.Bc(69),b.Qb(),b.Qb(),b.Qb(),b.Rb(70,"ion-col",32),b.Rb(71,"ion-item",30),b.Rb(72,"ion-label",31),b.Bc(73,"Results per Page"),b.Qb(),b.Rb(74,"ion-select",33),b.Zb("ionChange",(function(e){return n.changeResultPerPage(e)})),b.Rb(75,"ion-select-option",34),b.Bc(76,"10"),b.Qb(),b.Rb(77,"ion-select-option",35),b.Bc(78,"25"),b.Qb(),b.Rb(79,"ion-select-option",36),b.Bc(80,"50"),b.Qb(),b.Rb(81,"ion-select-option",37),b.Bc(82,"100"),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Rb(83,"ion-row"),b.Nb(84,"ion-col",11),b.Rb(85,"ion-col",26),b.Rb(86,"ngx-datatable",38),b.Zb("page",(function(e){return n.setPage(e)}))("select",(function(e){return n.onSelect(e)}))("sort",(function(e){return n.onSort(e)})),b.zc(87,y,2,2,"ngx-datatable-column",39),b.Qb(),b.Qb(),b.Nb(88,"ion-col",11),b.Qb(),b.Qb(),b.Nb(89,"app-footer",40),b.Qb(),b.Qb(),b.Qb()),2&e&&(b.Ab(1),b.ic("pageAtTop",n.pageAtTop),b.Ab(1),b.ic("fullscreen",!0)("scrollEvents",!0),b.Ab(16),b.ic("ngModel",n.searchText),b.Ab(4),b.ic("ngModel",n.page.searchBy),b.Ab(40),b.ic("ngForOf",n.selected),b.Ab(7),b.Dc("",n.page.totalAnnotations," total"),b.Ab(17),b.ic("rows",n.rows)("columnMode","force")("headerHeight",50)("footerHeight",50)("externalPaging",!0)("count",n.page.totalAnnotations)("offset",n.page.offset)("limit",n.page.limit)("scrollbarH",!0)("selected",n.selected)("selectionType","single")("externalSorting",!0),b.Ab(1),b.ic("ngForOf",n.columns),b.Ab(2),b.ic("innerWidth",n.innerWidth))},directives:[a.r,g.a,a.o,a.q,a.D,a.n,a.E,a.Y,i.e,i.h,a.f,a.s,a.B,a.X,a.u,a.v,a.A,a.V,o.k,a.F,a.G,h.c,f.a,a.L,a.g,h.b,h.a,o.l],styles:[".circle-1[_ngcontent-%COMP%]{right:-434px;top:-554px;height:868px;width:868px}.circle-1[_ngcontent-%COMP%], .circle-2[_ngcontent-%COMP%]{position:absolute;background-color:#bbb;border-radius:50%;display:inline-block;background:#6078ea;background:linear-gradient(201deg,#6078ea,#17ead9)}.circle-2[_ngcontent-%COMP%]{left:-200px;top:1200px;height:500px;width:500px}#container[_ngcontent-%COMP%]{position:relative}#infoi[_ngcontent-%COMP%], #navi[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}#infoi[_ngcontent-%COMP%]{z-index:1}.page-height[_ngcontent-%COMP%]{min-height:100vh}"]}),w)}],A=((C=function e(){_classCallCheck(this,e)}).\u0275mod=b.Kb({type:C}),C.\u0275inj=b.Jb({factory:function(e){return new(e||C)},imports:[[r.i.forChild(k)],r.i]}),C),P=t("iWjc"),M=((x=function e(){_classCallCheck(this,e)}).\u0275mod=b.Kb({type:x}),x.\u0275inj=b.Jb({factory:function(e){return new(e||x)},imports:[[o.c,i.a,a.P,A,h.d,P.a]]}),x)}}]);