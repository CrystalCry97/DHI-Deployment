function _objectDestructuringEmpty(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{m6Yz:function(e,t,n){"use strict";n.r(t),n.d(t,"ArticleManagementPageModule",(function(){return Z}));var i,o,r=n("ofXK"),a=n("3Pt+"),c=n("TEn/"),l=n("tyNb"),s=n("UTcu"),b=n("fNvp"),u=n("mrSG"),g=n("dfks"),d=n("Buy9"),p=n("fXoL"),h=n("QY0l"),f=((o=function(){function e(t,n,i){_classCallCheck(this,e),this.modalController=t,this.articleService=n,this.toastController=i}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"dismissModal",value:function(){this.modalController.dismiss()}},{key:"editArticle",value:function(){var e=this;this.articleService.editArticle(this.article).subscribe((function(){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.dismissModal(),e.next=3,this.toastController.create({header:"Edit ".concat(this.article.title," success!"),color:"success",duration:2e3});case 3:e.sent.present();case 4:case"end":return e.stop()}}),e,this)})))}),(function(){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastController.create({header:"Fail to edit ".concat(this.article.title,"!"),color:"danger",duration:2e3});case 2:e.sent.present();case 3:case"end":return e.stop()}}),e,this)})))}))}}]),e}()).\u0275fac=function(e){return new(e||o)(p.Mb(c.R),p.Mb(h.a),p.Mb(c.Y))},o.\u0275cmp=p.Gb({type:o,selectors:[["app-edit-article"]],inputs:{article:"article"},decls:42,vars:6,consts:[["color","tertiary"],[3,"innerHTML"],["slot","end"],["shape","round","fill","clear",3,"click"],["name","close"],["name","pencil","slot","start"],["position","floating"],["type","text",3,"ngModel","ngModelChange"],["name","apps","slot","start"],["name","calendar","slot","start"],["name","link","slot","start"],["name","chatbubble-ellipses","slot","start"],["rows","8",3,"ngModel","ngModelChange"],["lines","none",1,"ion-margin-top"],["slot","end","size","default",3,"click"],["name","save","slot","start"]],template:function(e,t){1&e&&(p.Rb(0,"ion-header"),p.Rb(1,"ion-toolbar",0),p.Rb(2,"ion-title"),p.Ac(3,"Edit "),p.Nb(4,"span",1),p.Qb(),p.Rb(5,"ion-buttons",2),p.Rb(6,"ion-button",3),p.Zb("click",(function(){return t.dismissModal()})),p.Nb(7,"ion-icon",4),p.Qb(),p.Qb(),p.Qb(),p.Qb(),p.Rb(8,"ion-content"),p.Rb(9,"ion-grid"),p.Rb(10,"ion-row"),p.Rb(11,"ion-col"),p.Rb(12,"ion-item"),p.Nb(13,"ion-icon",5),p.Rb(14,"ion-label",6),p.Ac(15,"Title"),p.Qb(),p.Rb(16,"ion-input",7),p.Zb("ngModelChange",(function(e){return t.article.title=e})),p.Qb(),p.Qb(),p.Rb(17,"ion-item"),p.Nb(18,"ion-icon",8),p.Rb(19,"ion-label",6),p.Ac(20,"Category"),p.Qb(),p.Rb(21,"ion-input",7),p.Zb("ngModelChange",(function(e){return t.article.category=e})),p.Qb(),p.Qb(),p.Rb(22,"ion-item"),p.Nb(23,"ion-icon",9),p.Rb(24,"ion-label",6),p.Ac(25,"Year"),p.Qb(),p.Rb(26,"ion-input",7),p.Zb("ngModelChange",(function(e){return t.article.year=e})),p.Qb(),p.Qb(),p.Rb(27,"ion-item"),p.Nb(28,"ion-icon",10),p.Rb(29,"ion-label",6),p.Ac(30,"Link"),p.Qb(),p.Rb(31,"ion-input",7),p.Zb("ngModelChange",(function(e){return t.article.link=e})),p.Qb(),p.Qb(),p.Rb(32,"ion-item"),p.Nb(33,"ion-icon",11),p.Rb(34,"ion-label",6),p.Ac(35,"Abstract"),p.Qb(),p.Rb(36,"ion-textarea",12),p.Zb("ngModelChange",(function(e){return t.article.abstract=e})),p.Qb(),p.Qb(),p.Rb(37,"ion-item",13),p.Rb(38,"ion-button",14),p.Zb("click",(function(){return t.editArticle()})),p.Nb(39,"ion-icon",15),p.Rb(40,"ion-label"),p.Ac(41,"Save"),p.Qb(),p.Qb(),p.Qb(),p.Qb(),p.Qb(),p.Qb(),p.Qb()),2&e&&(p.Ab(4),p.ic("innerHTML",t.article.title,p.sc),p.Ab(12),p.ic("ngModel",t.article.title),p.Ab(5),p.ic("ngModel",t.article.category),p.Ab(5),p.ic("ngModel",t.article.year),p.Ab(5),p.ic("ngModel",t.article.link),p.Ab(5),p.ic("ngModel",t.article.abstract))},directives:[c.q,c.N,c.M,c.f,c.e,c.r,c.n,c.p,c.C,c.m,c.t,c.u,c.s,c.X,a.e,a.h,c.L],styles:[""]}),o),m=((i=function(){function e(t,n,i){_classCallCheck(this,e),this.modalController=t,this.articleService=n,this.toastController=i,this.article={_id:"",title:"",category:"",year:"",link:"",abstract:"",doi:"",pending:0,approved:0}}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"dismissModal",value:function(){this.modalController.dismiss()}},{key:"createArticle",value:function(){var e=this;this.articleService.createArticle(this.article).subscribe((function(){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.dismissModal(),e.next=3,this.toastController.create({header:"Add article ".concat(this.article.title," success!"),color:"success",duration:2e3});case 3:e.sent.present();case 4:case"end":return e.stop()}}),e,this)})))}),(function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,this.toastController.create({header:"Fail to add article ".concat(this.article.title,"!"),color:"danger",duration:2e3});case 3:e.sent.present();case 4:case"end":return e.stop()}}),e,this)})))}))}}]),e}()).\u0275fac=function(e){return new(e||i)(p.Mb(c.R),p.Mb(h.a),p.Mb(c.Y))},i.\u0275cmp=p.Gb({type:i,selectors:[["app-create-article"]],decls:41,vars:5,consts:[["color","tertiary"],["slot","end"],["shape","round","fill","clear",3,"click"],["name","close"],["name","pencil","slot","start"],["position","floating"],["type","text",3,"ngModel","ngModelChange"],["name","apps","slot","start"],["name","calendar","slot","start"],["name","link","slot","start"],["name","chatbubble-ellipses","slot","start"],["rows","8",3,"ngModel","ngModelChange"],["lines","none",1,"ion-margin-top"],["slot","end","size","default",3,"click"],["name","save","slot","start"]],template:function(e,t){1&e&&(p.Rb(0,"ion-header"),p.Rb(1,"ion-toolbar",0),p.Rb(2,"ion-title"),p.Ac(3,"Add new article"),p.Qb(),p.Rb(4,"ion-buttons",1),p.Rb(5,"ion-button",2),p.Zb("click",(function(){return t.dismissModal()})),p.Nb(6,"ion-icon",3),p.Qb(),p.Qb(),p.Qb(),p.Qb(),p.Rb(7,"ion-content"),p.Rb(8,"ion-grid"),p.Rb(9,"ion-row"),p.Rb(10,"ion-col"),p.Rb(11,"ion-item"),p.Nb(12,"ion-icon",4),p.Rb(13,"ion-label",5),p.Ac(14,"Title"),p.Qb(),p.Rb(15,"ion-input",6),p.Zb("ngModelChange",(function(e){return t.article.title=e})),p.Qb(),p.Qb(),p.Rb(16,"ion-item"),p.Nb(17,"ion-icon",7),p.Rb(18,"ion-label",5),p.Ac(19,"Category"),p.Qb(),p.Rb(20,"ion-input",6),p.Zb("ngModelChange",(function(e){return t.article.category=e})),p.Qb(),p.Qb(),p.Rb(21,"ion-item"),p.Nb(22,"ion-icon",8),p.Rb(23,"ion-label",5),p.Ac(24,"Year"),p.Qb(),p.Rb(25,"ion-input",6),p.Zb("ngModelChange",(function(e){return t.article.year=e})),p.Qb(),p.Qb(),p.Rb(26,"ion-item"),p.Nb(27,"ion-icon",9),p.Rb(28,"ion-label",5),p.Ac(29,"Link"),p.Qb(),p.Rb(30,"ion-input",6),p.Zb("ngModelChange",(function(e){return t.article.link=e})),p.Qb(),p.Qb(),p.Rb(31,"ion-item"),p.Nb(32,"ion-icon",10),p.Rb(33,"ion-label",5),p.Ac(34,"Abstract"),p.Qb(),p.Rb(35,"ion-textarea",11),p.Zb("ngModelChange",(function(e){return t.article.abstract=e})),p.Qb(),p.Qb(),p.Rb(36,"ion-item",12),p.Rb(37,"ion-button",13),p.Zb("click",(function(){return t.createArticle()})),p.Nb(38,"ion-icon",14),p.Rb(39,"ion-label"),p.Ac(40,"Add"),p.Qb(),p.Qb(),p.Qb(),p.Qb(),p.Qb(),p.Qb(),p.Qb()),2&e&&(p.Ab(15),p.ic("ngModel",t.article.title),p.Ab(5),p.ic("ngModel",t.article.category),p.Ab(5),p.ic("ngModel",t.article.year),p.Ab(5),p.ic("ngModel",t.article.link),p.Ab(5),p.ic("ngModel",t.article.abstract))},directives:[c.q,c.N,c.M,c.f,c.e,c.r,c.n,c.p,c.C,c.m,c.t,c.u,c.s,c.X,a.e,a.h,c.L],styles:[""]}),i),v=n("KJTt"),R=n("2MiI"),Q=n("lDzL"),A=n("LmEr");function y(e,t){if(1&e){var n=p.Sb();p.Rb(0,"ion-radio-group",22),p.Zb("ngModelChange",(function(e){return p.rc(n),p.bc().articleStatus=e})),p.Rb(1,"ion-grid",23),p.Rb(2,"ion-row"),p.Rb(3,"ion-col"),p.Rb(4,"ion-item",13),p.Rb(5,"ion-label"),p.Ac(6,"Show:"),p.Qb(),p.Qb(),p.Qb(),p.Rb(7,"ion-col"),p.Rb(8,"ion-item",13),p.Rb(9,"ion-label"),p.Ac(10,"All articles"),p.Qb(),p.Nb(11,"ion-radio",44),p.Qb(),p.Qb(),p.Rb(12,"ion-col"),p.Rb(13,"ion-item",13),p.Rb(14,"ion-label"),p.Ac(15,"Annotated articles only"),p.Qb(),p.Nb(16,"ion-radio",45),p.Qb(),p.Qb(),p.Qb(),p.Qb(),p.Qb()}if(2&e){var i=p.bc();p.ic("ngModel",i.articleStatus)}}function w(e,t){if(1&e){var n=p.Sb();p.Rb(0,"ion-item",46),p.Nb(1,"ion-text",47),p.Rb(2,"ion-buttons",14),p.Rb(3,"ion-button",48),p.Zb("click",(function(){p.rc(n);var e=t.$implicit;return p.bc().editArticle(e)})),p.Nb(4,"ion-icon",49),p.Rb(5,"ion-label"),p.Ac(6,"Edit"),p.Qb(),p.Qb(),p.Rb(7,"ion-button",50),p.Zb("click",(function(){p.rc(n);var e=t.$implicit;return p.bc().deleteArticle(e)})),p.Nb(8,"ion-icon",51),p.Rb(9,"ion-label"),p.Ac(10,"Delete"),p.Qb(),p.Qb(),p.Qb(),p.Qb()}if(2&e){var i=t.$implicit;p.Ab(1),p.ic("innerHtml",i.title,p.sc)}}function C(e,t){if(1&e&&p.Nb(0,"span",57),2&e){var n=p.bc().value;p.ic("innerHTML",n,p.sc)}}function k(e,t){if(1&e){var n=p.Sb();p.Rb(0,"span",58),p.Zb("click",(function(){p.rc(n);var e=p.bc().row;return p.bc(2).navigateToArticle(e.link)})),p.Qb()}if(2&e){var i=p.bc().value;p.ic("innerHTML",i,p.sc)}}function M(e,t){if(1&e){var n=p.Sb();p.Rb(0,"span"),p.Rb(1,"ion-list"),p.Rb(2,"ion-item"),p.Rb(3,"ion-button",59),p.Zb("click",(function(){p.rc(n);var e=p.bc().row;return p.bc(2).openAbstract(e)})),p.Nb(4,"ion-icon",60),p.Qb(),p.Rb(5,"ion-button",59),p.Zb("click",(function(){p.rc(n);var e=p.bc().row;return p.bc(2).navigateToAnnotation(e._id)})),p.Nb(6,"ion-icon",61),p.Qb(),p.Qb(),p.Rb(7,"ion-chip",62),p.Rb(8,"ion-label"),p.Rb(9,"small"),p.Ac(10),p.Qb(),p.Qb(),p.Qb(),p.Rb(11,"ion-chip",63),p.Rb(12,"ion-label"),p.Rb(13,"small"),p.Ac(14),p.Qb(),p.Qb(),p.Qb(),p.Qb(),p.Qb()}if(2&e){var i=p.bc().row;p.Ab(10),p.Cc("",i.pending," Pending"),p.Ab(4),p.Cc("",i.approved," Approved annotation")}}function x(e,t){if(1&e&&(p.yc(0,C,1,1,"span",54),p.yc(1,k,1,1,"span",55),p.yc(2,M,15,2,"span",56)),2&e){var n=p.bc().$implicit;p.ic("ngIf","Actions"!==n.name&&"Title"!==n.name),p.Ab(1),p.ic("ngIf","Actions"!==n.name&&"Title"===n.name),p.Ab(1),p.ic("ngIf","Actions"===n.name)}}function S(e,t){1&e&&(p.Rb(0,"ngx-datatable-column",52),p.yc(1,x,3,3,"ng-template",53),p.Qb()),2&e&&p.ic("name",t.$implicit.name)("width",200)}var N,_,P,T=[{path:"",component:(N=function(){function e(t,n,i,o,r,a,c){_classCallCheck(this,e),this.pagePositionService=t,this.articleService=n,this.modalController=i,this.alertController=o,this.toastController=r,this.loadingController=a,this.router=c,this.pageAtTop=!0,this.page=new g.a,this.rows=new Array,this.searchText="",this.selected=[],this.testInfo=[],this.articleStatus="all",this.selectOpt=10,this.columns=[{name:"Title"},{name:"Category"},{name:"Year"},{name:"Actions"}],this.page.limit=10}return _createClass(e,[{key:"ngOnInit",value:function(){this.innerWidth=window.innerWidth}},{key:"onResize",value:function(e){this.innerWidth=window.innerWidth}},{key:"onScroll",value:function(e){this.pageAtTop=this.pagePositionService.isPageAtTop(e)}},{key:"highlightFilter",value:function(e,t){var n=e;try{if(e&&t&&void 0!==typeof e&&void 0!==typeof t&&(e=e.toString().trim(),(t=t.toString().trim()).length>0)){var i=(t=t.replace(",","")).replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");i=i.split(" ").filter((function(e){return e.length>0})).join("|");var o=new RegExp(i,"gi");e=e.replace(o,(function(e){return"<b>".concat(e,"</b>")}))}}catch(r){return console.error(r),n}return e}},{key:"setPage",value:function(e){var t=this;this.presentLoading(),this.page.offset=e.offset,this.articleService.getArticleList(this.page).subscribe((function(e){t.stopLoading(),t.page.offset=e.offset,t.page.totalArticles=e.totalArticles,t.page.totalPage=e.totalPage,t.rows=e.articles.map((function(e){return{_id:e._id,title:t.highlightFilter(e.title,t.searchText),category:e.category,year:e.year,abstract:e.abstract,link:e.link,pending:t.getAnnotationCount(e.annotations_data,"pending"),approved:t.getAnnotationCount(e.annotations_data,"approved")}}))}),(function(){t.stopLoading()}),(function(){"annotated"===t.articleStatus?t.rows=t.rows.filter((function(e){return console.log(e.approved),e.approved>0})):"unannotated"===t.articleStatus&&(t.rows=t.rows.filter((function(e){return console.log(e.approved),0===e.approved})))}))}},{key:"search",value:function(e){var t=this;this.presentLoading();var n=e?e.target.value:this.searchText;this.page.offset=0,"title"===this.page.searchBy?(this.page.textSearch=!1,this.page.title=n,this.page.category="",this.page.year="",this.page.abstract=""):"category"===this.page.searchBy?(this.page.textSearch=!1,this.page.title="",this.page.category=n,this.page.year="",this.page.abstract=""):"year"===this.page.searchBy?(this.page.textSearch=!1,this.page.title="",this.page.category="",this.page.year=n,this.page.abstract=""):"abstract"===this.page.searchBy?(this.page.textSearch=!1,this.page.title="",this.page.category="",this.page.year="",this.page.abstract=n):"text"===this.page.searchBy&&(this.page.textSearch=!0,this.page.title=n,this.page.category="",this.page.year="",this.page.abstract=""),""===this.searchText.trim()||"all"===this.articleStatus?(1e6===this.page.limit&&(console.log(this.page.limit+" : "+this.selectOpt),this.page.limit=this.selectOpt),this.articleService.getArticleList(this.page).subscribe((function(e){t.stopLoading(),t.page.offset=e.offset,t.page.totalArticles=e.totalArticles,t.page.totalPage=e.totalPage,t.rows=e.articles.map((function(e){return{_id:e._id,title:t.highlightFilter(e.title,t.searchText),category:e.category,year:e.year,abstract:e.abstract,link:e.link,pending:t.getAnnotationCount(e.annotations_data,"pending"),approved:t.getAnnotationCount(e.annotations_data,"approved")}}))}),(function(){t.stopLoading()}))):(this.page.limit=1e6,this.articleService.getArticleList(this.page).subscribe((function(e){t.stopLoading(),t.page.offset=e.offset,t.page.totalArticles=e.totalArticles,t.page.totalPage=e.totalPage,t.rows=e.articles.map((function(e){return{_id:e._id,title:t.highlightFilter(e.title,t.searchText),category:e.category,year:e.year,abstract:e.abstract,link:e.link,pending:t.getAnnotationCount(e.annotations_data,"pending"),approved:t.getAnnotationCount(e.annotations_data,"approved")}}))}),(function(){t.stopLoading()}),(function(){"annotated"===t.articleStatus?t.rows=t.rows.filter((function(e){return e.approved>0})):"unannotated"===t.articleStatus&&(t.rows=t.rows.filter((function(e){return 0===e.approved}))),t.page.totalArticles=t.rows.length})))}},{key:"getAnnotationCount",value:function(e,t){var n=e.length>0?e.find((function(e){return e._id==t})):null;return null==n?0:n.total}},{key:"presentLoading",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadingController.create({cssClass:"my-custom-class",message:"Searching articles..."});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"stopLoading",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadingController.dismiss();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"onSort",value:function(e){var t=this;this.presentLoading(),this.page.orderBy=e.column.name.toLowerCase(),this.page.isAscending="asc"===e.newValue,this.articleService.getArticleList(this.page).subscribe((function(e){t.stopLoading(),t.page.offset=e.offset,t.page.totalArticles=e.totalArticles,t.page.totalPage=e.totalPage,t.rows=e.articles.map((function(e){return{_id:e._id,title:t.highlightFilter(e.title,t.searchText),category:e.category,year:e.year,abstract:e.abstract,link:e.link,pending:t.getAnnotationCount(e.annotations_data,"pending"),approved:t.getAnnotationCount(e.annotations_data,"approved")}}))}),(function(){t.stopLoading()}),(function(){"annotated"===t.articleStatus?t.rows=t.rows.filter((function(e){return console.log(e.approved),e.approved>0})):"unannotated"===t.articleStatus&&(t.rows=t.rows.filter((function(e){return console.log(e.approved),0===e.approved})))}))}},{key:"onSelect",value:function(e){_objectDestructuringEmpty(e)}},{key:"openAbstract",value:function(e){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({cssClass:"custom-lg-modal",component:d.a,componentProps:{article:e,searchKey:this.searchText}});case 2:return n=t.sent,t.next=5,n.present();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"navigateToArticle",value:function(e){window.open(e)}},{key:"navigateToAnnotation",value:function(e){this.router.navigate(["/article-management/annotation/"+e])}},{key:"openCreateArticleModal",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.create({cssClass:"custom-lg-modal",component:m});case 2:return t=e.sent,e.next=5,t.present();case 5:return e.next=7,t.onWillDismiss().then((function(){n.ngOnInit()}));case 7:case"end":return e.stop()}}),e,this)})))}},{key:"editArticle",value:function(e){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({cssClass:"custom-lg-modal",component:f,componentProps:{article:e}});case 2:return n=t.sent,t.next=5,n.present();case 5:return t.next=7,n.onWillDismiss().then((function(){i.ngOnInit()}));case 7:case"end":return t.stop()}}),t,this)})))}},{key:"deleteArticle",value:function(e){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Permenantly delete "+e.title,message:"Are you sure you want to delete this article? This action cannot be undone.",buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:function(){i.articleService.deleteArticle(e).subscribe((function(){return Object(u.a)(i,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toastController.create({header:"Delete ".concat(e.title," success!"),color:"success",duration:2e3});case 2:t.sent.present(),this.ngOnInit();case 4:case"end":return t.stop()}}),t,this)})))}),(function(){return Object(u.a)(i,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toastController.create({header:"Fail to delete ".concat(e.title,"!"),color:"danger",duration:2e3});case 2:t.sent.present(),this.ngOnInit();case 4:case"end":return t.stop()}}),t,this)})))}))}}]});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"changeResultPerPage",value:function(e){this.page.limit=e.detail.value,this.search(!1),this.selectOpt=this.page.limit}}]),e}(),N.\u0275fac=function(e){return new(e||N)(p.Mb(v.a),p.Mb(h.a),p.Mb(c.R),p.Mb(c.a),p.Mb(c.Y),p.Mb(c.Q),p.Mb(l.g))},N.\u0275cmp=p.Gb({type:N,selectors:[["app-article-management"]],hostBindings:function(e,t){1&e&&p.Zb("resize",(function(e){return t.onResize(e)}),!1,p.qc)},decls:96,vars:24,consts:[[3,"pageAtTop"],[3,"fullscreen","scrollEvents","ionScroll"],["id","container"],["id","navi"],[1,"circle-1"],["id","infoi"],[1,"ion-no-padding","page-height","ion-margin"],["size","1"],["size","10","size-lg","6"],[1,"home-title"],[1,"home-subtitle"],["size","0","size-md","1"],["size","12","size-md","10"],["lines","none","color","none"],["slot","end"],["color","primary","fill","solid",3,"click"],["name","newspaper","slot","start"],["size","10","size-md","9"],["showCancelButton","never","animated","","placeholder","Enter your search",3,"ngModel","keyup.enter","ngModelChange"],["size","2","size-md","2"],["color","primary","fill","solid",2,"margin-top","10px",3,"click"],["name","search-outline"],[3,"ngModel","ngModelChange"],[2,"margin-left","7vw","margin-right","7vw"],["slot","start","mode","md","item-left","","value","text"],["slot","start","mode","md","item-left","","value","title"],["slot","start","mode","md","item-left","","value","category"],["slot","start","mode","md","item-left","","value","year"],["slot","start","mode","md","item-left","","value","abstract"],[3,"ngModel","ngModelChange",4,"ngIf"],["lines","none","color","light",4,"ngFor","ngForOf"],[2,"margin","5px 5px"],["size","5","size-md","7"],["lines","none"],[2,"font-size","12px","color","grey"],["size","7","size-md","3"],["interface","popover",2,"font-size","12px","color","grey",3,"value","disabled","ionChange"],["value","10"],["value","25"],["value","50"],["value","100"],["rowHeight","auto",1,"material",2,"margin-bottom","20vh",3,"rows","columnMode","headerHeight","footerHeight","externalPaging","count","offset","limit","scrollbarH","selected","selectionType","externalSorting","select","page","sort"],[3,"name","width",4,"ngFor","ngForOf"],[3,"innerWidth"],["slot","start","mode","md","item-left","","value","all"],["slot","start","mode","md","item-left","","value","annotated"],["lines","none","color","light"],[3,"innerHtml"],["color","warning","fill","solid",3,"click"],["name","pencil","slot","start"],["color","danger","fill","solid",3,"click"],["name","trash","slot","start"],[3,"name","width"],["ngx-datatable-cell-template",""],[3,"innerHTML",4,"ngIf"],["class","article-title","src","#",3,"innerHTML","click",4,"ngIf"],[4,"ngIf"],[3,"innerHTML"],["src","#",1,"article-title",3,"innerHTML","click"],["shape","round","fill","clear",3,"click"],["name","information-circle","color","tertiary"],["name","bookmarks","color","tertiary"],["disabled","true","outline","true","color","warning"],["disabled","true","outline","true","color","success"]],template:function(e,t){1&e&&(p.Rb(0,"ion-header"),p.Nb(1,"app-header",0),p.Qb(),p.Rb(2,"ion-content",1),p.Zb("ionScroll",(function(e){return t.onScroll(e)})),p.Rb(3,"div",2),p.Rb(4,"div",3),p.Nb(5,"span",4),p.Qb(),p.Rb(6,"div",5),p.Rb(7,"ion-grid",6),p.Rb(8,"ion-row"),p.Nb(9,"ion-col",7),p.Rb(10,"ion-col",8),p.Rb(11,"h1",9),p.Ac(12,"Article Management"),p.Qb(),p.Rb(13,"p",10),p.Ac(14,"Add new article, annotations and more."),p.Qb(),p.Qb(),p.Qb(),p.Rb(15,"ion-row"),p.Nb(16,"ion-col",11),p.Rb(17,"ion-col",12),p.Rb(18,"ion-item",13),p.Rb(19,"ion-buttons",14),p.Rb(20,"ion-button",15),p.Zb("click",(function(){return t.openCreateArticleModal()})),p.Nb(21,"ion-icon",16),p.Rb(22,"ion-label"),p.Ac(23,"Add Article"),p.Qb(),p.Qb(),p.Qb(),p.Qb(),p.Qb(),p.Nb(24,"ion-col",11),p.Qb(),p.Rb(25,"ion-row"),p.Nb(26,"ion-col",11),p.Rb(27,"ion-col",17),p.Rb(28,"ion-searchbar",18),p.Zb("keyup.enter",(function(e){return t.search(e)}))("ngModelChange",(function(e){return t.searchText=e})),p.Qb(),p.Qb(),p.Rb(29,"ion-col",19),p.Rb(30,"ion-button",20),p.Zb("click",(function(){return t.search(!1)})),p.Nb(31,"ion-icon",21),p.Qb(),p.Qb(),p.Qb(),p.Rb(32,"ion-radio-group",22),p.Zb("ngModelChange",(function(e){return t.page.searchBy=e})),p.Rb(33,"ion-grid",23),p.Rb(34,"ion-row"),p.Rb(35,"ion-col"),p.Rb(36,"ion-item",13),p.Rb(37,"ion-label"),p.Ac(38,"Search by:"),p.Qb(),p.Qb(),p.Qb(),p.Rb(39,"ion-col"),p.Rb(40,"ion-item",13),p.Rb(41,"ion-label"),p.Ac(42,"Text"),p.Qb(),p.Nb(43,"ion-radio",24),p.Qb(),p.Qb(),p.Rb(44,"ion-col"),p.Rb(45,"ion-item",13),p.Rb(46,"ion-label"),p.Ac(47,"Title"),p.Qb(),p.Nb(48,"ion-radio",25),p.Qb(),p.Qb(),p.Rb(49,"ion-col"),p.Rb(50,"ion-item",13),p.Rb(51,"ion-label"),p.Ac(52,"Category"),p.Qb(),p.Nb(53,"ion-radio",26),p.Qb(),p.Qb(),p.Rb(54,"ion-col"),p.Rb(55,"ion-item",13),p.Rb(56,"ion-label"),p.Ac(57,"Year"),p.Qb(),p.Nb(58,"ion-radio",27),p.Qb(),p.Qb(),p.Rb(59,"ion-col"),p.Rb(60,"ion-item",13),p.Rb(61,"ion-label"),p.Ac(62,"Abstract"),p.Qb(),p.Nb(63,"ion-radio",28),p.Qb(),p.Qb(),p.Qb(),p.Qb(),p.Qb(),p.yc(64,y,17,1,"ion-radio-group",29),p.Rb(65,"ion-row"),p.Nb(66,"ion-col",11),p.Rb(67,"ion-col",12),p.yc(68,w,11,1,"ion-item",30),p.Qb(),p.Nb(69,"ion-col",11),p.Qb(),p.Rb(70,"ion-row",31),p.Nb(71,"ion-col",11),p.Rb(72,"ion-col",32),p.Rb(73,"ion-item",33),p.Rb(74,"ion-label",34),p.Ac(75),p.Qb(),p.Qb(),p.Qb(),p.Rb(76,"ion-col",35),p.Rb(77,"ion-item",33),p.Rb(78,"ion-label",34),p.Ac(79,"Results per Page"),p.Qb(),p.Rb(80,"ion-select",36),p.Zb("ionChange",(function(e){return t.changeResultPerPage(e)})),p.Rb(81,"ion-select-option",37),p.Ac(82,"10"),p.Qb(),p.Rb(83,"ion-select-option",38),p.Ac(84,"25"),p.Qb(),p.Rb(85,"ion-select-option",39),p.Ac(86,"50"),p.Qb(),p.Rb(87,"ion-select-option",40),p.Ac(88,"100"),p.Qb(),p.Qb(),p.Qb(),p.Qb(),p.Qb(),p.Rb(89,"ion-row"),p.Nb(90,"ion-col",11),p.Rb(91,"ion-col",12),p.Rb(92,"ngx-datatable",41),p.Zb("select",(function(e){return t.onSelect(e)}))("page",(function(e){return t.setPage(e)}))("sort",(function(e){return t.onSort(e)})),p.yc(93,S,2,2,"ngx-datatable-column",42),p.Qb(),p.Qb(),p.Nb(94,"ion-col",11),p.Qb(),p.Qb(),p.Nb(95,"app-footer",43),p.Qb(),p.Qb(),p.Qb()),2&e&&(p.Ab(1),p.ic("pageAtTop",t.pageAtTop),p.Ab(1),p.ic("fullscreen",!0)("scrollEvents",!0),p.Ab(26),p.ic("ngModel",t.searchText),p.Ab(4),p.ic("ngModel",t.page.searchBy),p.Ab(32),p.ic("ngIf",""!=t.searchText.trim()),p.Ab(4),p.ic("ngForOf",t.selected),p.Ab(7),p.Cc("",t.page.totalArticles," total"),p.Ab(5),p.jc("value",t.selectOpt),p.ic("disabled","all"!==t.articleStatus),p.Ab(12),p.ic("rows",t.rows)("columnMode","force")("headerHeight",50)("footerHeight",50)("externalPaging",!0)("count",t.page.totalArticles)("offset",t.page.offset)("limit",t.page.limit)("scrollbarH",!0)("selected",t.selected)("selectionType","single")("externalSorting",!0),p.Ab(1),p.ic("ngForOf",t.columns),p.Ab(2),p.ic("innerWidth",t.innerWidth))},directives:[c.q,R.a,c.n,c.p,c.C,c.m,c.t,c.f,c.e,c.r,c.u,c.D,c.X,a.e,a.h,c.A,c.W,c.z,c.U,r.l,r.k,c.E,c.F,Q.c,A.a,c.K,Q.b,Q.a,c.v,c.l],styles:[".circle-1[_ngcontent-%COMP%]{right:-434px;top:-554px;height:868px;width:868px}.circle-1[_ngcontent-%COMP%], .circle-2[_ngcontent-%COMP%]{position:absolute;background-color:#bbb;border-radius:50%;display:inline-block;background:#6078ea;background:linear-gradient(201deg,#6078ea,#17ead9)}.circle-2[_ngcontent-%COMP%]{left:-200px;top:1200px;height:500px;width:500px}#container[_ngcontent-%COMP%]{position:relative}#infoi[_ngcontent-%COMP%], #navi[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}#infoi[_ngcontent-%COMP%]{z-index:1}.page-height[_ngcontent-%COMP%]{min-height:100vh}.article-title[_ngcontent-%COMP%]{cursor:pointer}.article-title[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),N)},{path:"annotation/:article-id",canActivate:[s.a,b.a],data:{dataManagerOnly:!0},loadChildren:function(){return Promise.all([n.e(0),n.e(15)]).then(n.bind(null,"SmNP")).then((function(e){return e.DataAnnotationPageModule}))}}],O=((_=function e(){_classCallCheck(this,e)}).\u0275mod=p.Kb({type:_}),_.\u0275inj=p.Jb({factory:function(e){return new(e||_)},imports:[[l.i.forChild(T)],l.i]}),_),L=n("iWjc"),Z=((P=function e(){_classCallCheck(this,e)}).\u0275mod=p.Kb({type:P}),P.\u0275inj=p.Jb({factory:function(e){return new(e||P)},imports:[[r.c,a.a,c.O,O,Q.d,L.a]]}),P)}}]);