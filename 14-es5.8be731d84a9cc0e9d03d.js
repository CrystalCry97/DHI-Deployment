function _objectDestructuringEmpty(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{RjGV:function(e,t,n){"use strict";n.r(t),n.d(t,"ConsultationPageModule",(function(){return G}));var i=n("ofXK"),o=n("3Pt+"),a=n("TEn/"),c=n("tyNb"),r=n("mrSG"),s=n("fXoL");function l(e,t){if(1&e&&(s.Rb(0,"span"),s.zc(1),s.Qb()),2&e){var n=s.bc();s.Ab(1),s.Bc(", ",n.consultationDetails.medication,"")}}function b(e,t){if(1&e&&(s.Rb(0,"span"),s.zc(1),s.Qb()),2&e){var n=s.bc();s.Ab(1),s.Bc(", ",n.consultationDetails.sideEffect,"")}}var u,d,f,h=((u=function(){function e(t){_classCallCheck(this,e),this.modalController=t}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"dismissModal",value:function(){this.modalController.dismiss()}}]),e}()).\u0275fac=function(e){return new(e||u)(s.Mb(a.R))},u.\u0275cmp=s.Gb({type:u,selectors:[["app-consultation-details"]],inputs:{consultationDetails:"consultationDetails"},decls:45,vars:20,consts:[["color","tertiary"],["slot","end"],["shape","round","fill","clear",3,"click"],["name","close"],[3,"button"],[4,"ngIf"]],template:function(e,t){1&e&&(s.Rb(0,"ion-header"),s.Rb(1,"ion-toolbar",0),s.Rb(2,"ion-title"),s.zc(3,"Consultation Details"),s.Qb(),s.Rb(4,"ion-buttons",1),s.Rb(5,"ion-button",2),s.Zb("click",(function(){return t.dismissModal()})),s.Nb(6,"ion-icon",3),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Rb(7,"ion-content"),s.Rb(8,"ion-grid"),s.Rb(9,"ion-row"),s.Rb(10,"ion-col"),s.Rb(11,"ion-card",4),s.Rb(12,"ion-card-header"),s.Rb(13,"ion-card-subtitle"),s.zc(14),s.cc(15,"date"),s.Qb(),s.Rb(16,"ion-card-title"),s.zc(17),s.Qb(),s.Rb(18,"ion-card-subtitle"),s.zc(19),s.Qb(),s.Qb(),s.Rb(20,"ion-card-content"),s.Rb(21,"p"),s.zc(22),s.Qb(),s.Rb(23,"p"),s.zc(24),s.Qb(),s.Rb(25,"p"),s.zc(26),s.Qb(),s.Rb(27,"p"),s.zc(28),s.Qb(),s.Rb(29,"p"),s.zc(30),s.Qb(),s.Rb(31,"p"),s.zc(32),s.Qb(),s.Rb(33,"p"),s.zc(34),s.xc(35,l,2,1,"span",5),s.Qb(),s.Rb(36,"p"),s.zc(37),s.xc(38,b,2,1,"span",5),s.Qb(),s.Rb(39,"p"),s.zc(40),s.Qb(),s.Rb(41,"p"),s.zc(42),s.Qb(),s.Rb(43,"p"),s.zc(44),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb()),2&e&&(s.Ab(11),s.ic("button",!1),s.Ab(3),s.Ac(s.ec(15,17,t.consultationDetails.createdAt,"medium")),s.Ab(3),s.Bc("Product Name: ",t.consultationDetails.productName,""),s.Ab(2),s.Ac(t.consultationDetails.email),s.Ab(3),s.Bc("Content: ",t.consultationDetails.content,""),s.Ab(2),s.Bc("Frequency: ","Other- Please indicate"===t.consultationDetails.frequency?t.consultationDetails.otherFrequency:t.consultationDetails.frequency,""),s.Ab(2),s.Bc("Dose: ",t.consultationDetails.dose,""),s.Ab(2),s.Bc("Duration of administration: ",t.consultationDetails.duration,""),s.Ab(2),s.Bc("Reason for taking the product: ",t.consultationDetails.reason,""),s.Ab(2),s.Bc("Purchase at: ","Other- Please indicate"===t.consultationDetails.purchase?t.consultationDetails.otherPurchase:t.consultationDetails.purchase,""),s.Ab(2),s.Bc("Taking any medications prescribed by the doctor: ",t.consultationDetails.isMedication,""),s.Ab(1),s.ic("ngIf","Yes"===t.consultationDetails.isMedication),s.Ab(2),s.Bc("Side effects: ",t.consultationDetails.isSideEffect,""),s.Ab(1),s.ic("ngIf","Yes"===t.consultationDetails.isSideEffect),s.Ab(2),s.Bc("Still taking both product and drug at the same time: ",t.consultationDetails.isStillTaking,""),s.Ab(2),s.Bc("Did consult with doctor or pharmacist before taking medication: ",t.consultationDetails.isConsult,""),s.Ab(2),s.Bc("Questions: ",""===t.consultationDetails.question?"-":t.consultationDetails.question,""))},directives:[a.q,a.N,a.M,a.f,a.e,a.r,a.n,a.p,a.C,a.m,a.g,a.i,a.j,a.k,a.h,i.l],pipes:[i.e],styles:[""]}),u),m=n("AytR"),g=n("tk/3"),p=((f=function(){function e(t){_classCallCheck(this,e),this.http=t,this.href=m.a.api_endpoint+"/consultation"}return _createClass(e,[{key:"submitConsultationForm",value:function(e){return this.http.post(this.href+"/add",e)}},{key:"getConsultationList",value:function(e){return this.http.get("".concat(this.href,"/get?orderBy=").concat(e.orderBy,"&isAscending=").concat(e.isAscending,"&limit=").concat(e.limit,"&offset=").concat(e.offset,"&productName=").concat(e.productName,"&content=").concat(e.content,"&frequency=").concat(e.frequency,"&otherFrequency=").concat(e.otherFrequency,"&dose=").concat(e.dose,"&duration=").concat(e.duration,"&reason=").concat(e.reason,"&purchase=").concat(e.purchase,"&otherPurchase=").concat(e.otherPurchase,"&isMedication=").concat(e.isMedication,"&medication=").concat(e.medication,"&isSideEffect=").concat(e.isSideEffect,"&sideEffect=").concat(e.sideEffect,"&isStillTaking=").concat(e.isStillTaking,"&isConsult=").concat(e.isConsult,"&question=").concat(e.question,"&createdAt=").concat(e.createdAt,"&email=").concat(e.email))}},{key:"getUserDetails",value:function(e){return this.http.get("".concat(m.a.api_endpoint+"/user","/profile?email=").concat(e))}}]),e}()).\u0275fac=function(e){return new(e||f)(s.Vb(g.b))},f.\u0275prov=s.Ib({token:f,factory:f.\u0275fac,providedIn:"root"}),f),R=((d=function(){function e(t,n){_classCallCheck(this,e),this.modalController=t,this.consultationService=n,this.data={name:"",email:"",age:null,sex:"",state:"",phoneNumber:""}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.consultationService.getUserDetails(this.email).subscribe((function(t){e.data.name=t.profile.user.name,e.data.email=t.profile.user.email,e.data.age=t.profile.age,e.data.sex=t.profile.sex,e.data.state=t.profile.state,e.data.phoneNumber=t.profile.phoneNumber,console.log(e.data)}))}},{key:"dismissModal",value:function(){this.modalController.dismiss()}}]),e}()).\u0275fac=function(e){return new(e||d)(s.Mb(a.R),s.Mb(p))},d.\u0275cmp=s.Gb({type:d,selectors:[["app-consultation-user-detail"]],inputs:{email:"email"},decls:26,vars:7,consts:[["color","tertiary"],["slot","end"],["shape","round","fill","clear",3,"click"],["name","close"],[3,"button"]],template:function(e,t){1&e&&(s.Rb(0,"ion-header"),s.Rb(1,"ion-toolbar",0),s.Rb(2,"ion-title"),s.zc(3,"User Details"),s.Qb(),s.Rb(4,"ion-buttons",1),s.Rb(5,"ion-button",2),s.Zb("click",(function(){return t.dismissModal()})),s.Nb(6,"ion-icon",3),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Rb(7,"ion-content"),s.Rb(8,"ion-grid"),s.Rb(9,"ion-row"),s.Rb(10,"ion-col"),s.Rb(11,"ion-card",4),s.Rb(12,"ion-card-header"),s.Rb(13,"ion-card-title"),s.zc(14),s.Qb(),s.Rb(15,"ion-card-subtitle"),s.zc(16),s.Qb(),s.Qb(),s.Rb(17,"ion-card-content"),s.Rb(18,"p"),s.zc(19),s.Qb(),s.Rb(20,"p"),s.zc(21),s.Qb(),s.Rb(22,"p"),s.zc(23),s.Qb(),s.Rb(24,"p"),s.zc(25),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb()),2&e&&(s.Ab(11),s.ic("button",!1),s.Ab(3),s.Ac(t.data.name),s.Ab(2),s.Ac(t.data.email),s.Ab(3),s.Bc("Age: ",t.data.age,""),s.Ab(2),s.Bc("Sex: ",t.data.sex,""),s.Ab(2),s.Bc("State: ",t.data.state,""),s.Ab(2),s.Bc("Phone Number: ",t.data.phoneNumber,""))},directives:[a.q,a.N,a.M,a.f,a.e,a.r,a.n,a.p,a.C,a.m,a.g,a.i,a.k,a.j,a.h],styles:[""]}),d),Q=function e(){_classCallCheck(this,e),this.limit=0,this.total=0,this.totalPage=0,this.offset=0,this.searchBy="productName",this.orderBy="productName",this.isAscending=!0,this._id="",this.productName="",this.content="",this.frequency="",this.otherFrequency="",this.dose="",this.duration="",this.reason="",this.purchase="",this.otherPurchase="",this.isMedication="",this.medication="",this.isSideEffect="",this.sideEffect="",this.isStillTaking="",this.isConsult="",this.question="",this.createdAt="",this.email=""},M=n("KJTt"),y=n("Yhfc"),v=n("2MiI"),C=n("LmEr"),A=n("lDzL");function k(e,t){1&e&&(s.Rb(0,"p",26),s.zc(1,"We can help you."),s.Qb())}function x(e,t){if(1&e&&(s.Rb(0,"ion-item",45),s.Rb(1,"ion-label"),s.zc(2),s.Qb(),s.Nb(3,"ion-radio",46),s.Qb()),2&e){var n=t.$implicit;s.Ab(2),s.Ac(n),s.Ab(1),s.ic("value",n)}}function q(e,t){if(1&e){var n=s.Sb();s.Rb(0,"ion-item"),s.Rb(1,"ion-label",28),s.zc(2,"Please indicate.."),s.Qb(),s.Rb(3,"ion-input",47),s.Zb("ngModelChange",(function(e){return s.qc(n),s.bc(2).formFields.otherFrequency=e})),s.Qb(),s.Qb()}if(2&e){var i=s.bc(2);s.Ab(3),s.ic("ngModel",i.formFields.otherFrequency)}}function w(e,t){if(1&e&&(s.Rb(0,"ion-item",45),s.Rb(1,"ion-label"),s.zc(2),s.Qb(),s.Nb(3,"ion-radio",46),s.Qb()),2&e){var n=t.$implicit;s.Ab(2),s.Ac(n),s.Ab(1),s.ic("value",n)}}function S(e,t){if(1&e&&(s.Rb(0,"ion-item",45),s.Rb(1,"ion-label"),s.zc(2),s.Qb(),s.Nb(3,"ion-radio",46),s.Qb()),2&e){var n=t.$implicit;s.Ab(2),s.Ac(n),s.Ab(1),s.ic("value",n)}}function F(e,t){if(1&e){var n=s.Sb();s.Rb(0,"ion-item"),s.Rb(1,"ion-label",28),s.zc(2,"Please indicate.."),s.Qb(),s.Rb(3,"ion-input",48),s.Zb("ngModelChange",(function(e){return s.qc(n),s.bc(2).formFields.otherPurchase=e})),s.Qb(),s.Qb()}if(2&e){var i=s.bc(2);s.Ab(3),s.ic("ngModel",i.formFields.otherPurchase)}}function P(e,t){if(1&e&&(s.Rb(0,"ion-item",45),s.Rb(1,"ion-label"),s.zc(2),s.Qb(),s.Nb(3,"ion-radio",46),s.Qb()),2&e){var n=t.$implicit;s.Ab(2),s.Ac(n),s.Ab(1),s.ic("value",n)}}function z(e,t){if(1&e){var n=s.Sb();s.Rb(0,"ion-item"),s.Rb(1,"ion-label",28),s.zc(2,"Please indicate.."),s.Qb(),s.Rb(3,"ion-input",49),s.Zb("ngModelChange",(function(e){return s.qc(n),s.bc(2).formFields.medication=e})),s.Qb(),s.Qb()}if(2&e){var i=s.bc(2);s.Ab(3),s.ic("ngModel",i.formFields.medication)}}function N(e,t){if(1&e&&(s.Rb(0,"ion-item",45),s.Rb(1,"ion-label"),s.zc(2),s.Qb(),s.Nb(3,"ion-radio",46),s.Qb()),2&e){var n=t.$implicit;s.Ab(2),s.Ac(n),s.Ab(1),s.ic("value",n)}}function O(e,t){if(1&e){var n=s.Sb();s.Rb(0,"ion-item"),s.Rb(1,"ion-label",28),s.zc(2,"Please indicate.."),s.Qb(),s.Rb(3,"ion-input",50),s.Zb("ngModelChange",(function(e){return s.qc(n),s.bc(2).formFields.sideEffect=e})),s.Qb(),s.Qb()}if(2&e){var i=s.bc(2);s.Ab(3),s.ic("ngModel",i.formFields.sideEffect)}}function E(e,t){if(1&e&&(s.Rb(0,"ion-item",45),s.Rb(1,"ion-label"),s.zc(2),s.Qb(),s.Nb(3,"ion-radio",46),s.Qb()),2&e){var n=t.$implicit;s.Ab(2),s.Ac(n),s.Ab(1),s.ic("value",n)}}function D(e,t){if(1&e&&(s.Rb(0,"ion-item",45),s.Rb(1,"ion-label"),s.zc(2),s.Qb(),s.Nb(3,"ion-radio",46),s.Qb()),2&e){var n=t.$implicit;s.Ab(2),s.Ac(n),s.Ab(1),s.ic("value",n)}}function T(e,t){if(1&e){var n=s.Sb();s.Rb(0,"form",27),s.Zb("ngSubmit",(function(){return s.qc(n),s.bc().logForm()})),s.Rb(1,"ion-item"),s.Rb(2,"ion-label",28),s.zc(3,"Name of herbal product *"),s.Qb(),s.Rb(4,"ion-input",29),s.Zb("ngModelChange",(function(e){return s.qc(n),s.bc().formFields.productName=e})),s.Qb(),s.Qb(),s.Rb(5,"ion-item"),s.Rb(6,"ion-label",28),s.zc(7,"Content *"),s.Qb(),s.Rb(8,"ion-textarea",30),s.Zb("ngModelChange",(function(e){return s.qc(n),s.bc().formFields.content=e})),s.Qb(),s.Qb(),s.Rb(9,"ion-list"),s.Rb(10,"ion-radio-group",31),s.Zb("ngModelChange",(function(e){return s.qc(n),s.bc().formFields.frequency=e})),s.Rb(11,"ion-list-header"),s.Rb(12,"ion-label"),s.zc(13,"Frequency of administration *"),s.Qb(),s.Qb(),s.xc(14,x,4,2,"ion-item",32),s.Qb(),s.Qb(),s.xc(15,q,4,1,"ion-item",33),s.Rb(16,"ion-item"),s.Rb(17,"ion-label",28),s.zc(18,"Dose *"),s.Qb(),s.Rb(19,"ion-input",34),s.Zb("ngModelChange",(function(e){return s.qc(n),s.bc().formFields.dose=e})),s.Qb(),s.Qb(),s.Rb(20,"ion-list"),s.Rb(21,"ion-radio-group",35),s.Zb("ngModelChange",(function(e){return s.qc(n),s.bc().formFields.duration=e})),s.Rb(22,"ion-list-header"),s.Rb(23,"ion-label"),s.zc(24,"Duration of administration *"),s.Qb(),s.Qb(),s.xc(25,w,4,2,"ion-item",32),s.Qb(),s.Qb(),s.Rb(26,"ion-item"),s.Rb(27,"ion-label",28),s.zc(28,"Reason for taking the product *"),s.Qb(),s.Rb(29,"ion-textarea",36),s.Zb("ngModelChange",(function(e){return s.qc(n),s.bc().formFields.reason=e})),s.Qb(),s.Qb(),s.Rb(30,"ion-list"),s.Rb(31,"ion-radio-group",37),s.Zb("ngModelChange",(function(e){return s.qc(n),s.bc().formFields.purchase=e})),s.Rb(32,"ion-list-header"),s.Rb(33,"ion-label"),s.zc(34,"Where did you purchase? *"),s.Qb(),s.Qb(),s.xc(35,S,4,2,"ion-item",32),s.Qb(),s.Qb(),s.xc(36,F,4,1,"ion-item",33),s.Rb(37,"ion-list"),s.Rb(38,"ion-radio-group",38),s.Zb("ngModelChange",(function(e){return s.qc(n),s.bc().formFields.isMedication=e})),s.Rb(39,"ion-list-header"),s.Rb(40,"ion-label"),s.zc(41,"Are you taking any medications prescribed by the doctor? *"),s.Qb(),s.Qb(),s.xc(42,P,4,2,"ion-item",32),s.Qb(),s.Qb(),s.xc(43,z,4,1,"ion-item",33),s.Rb(44,"ion-list"),s.Rb(45,"ion-radio-group",39),s.Zb("ngModelChange",(function(e){return s.qc(n),s.bc().formFields.isSideEffect=e})),s.Rb(46,"ion-list-header"),s.Rb(47,"ion-label"),s.zc(48,"Did you experience any side effects after taken the product? *"),s.Qb(),s.Qb(),s.xc(49,N,4,2,"ion-item",32),s.Qb(),s.Qb(),s.xc(50,O,4,1,"ion-item",33),s.Rb(51,"ion-list"),s.Rb(52,"ion-radio-group",40),s.Zb("ngModelChange",(function(e){return s.qc(n),s.bc().formFields.isStillTaking=e})),s.Rb(53,"ion-list-header"),s.Rb(54,"ion-label"),s.zc(55,"Are you still taking both product and drug at the same time? *"),s.Qb(),s.Qb(),s.xc(56,E,4,2,"ion-item",32),s.Qb(),s.Qb(),s.Rb(57,"ion-list"),s.Rb(58,"ion-radio-group",41),s.Zb("ngModelChange",(function(e){return s.qc(n),s.bc().formFields.isConsult=e})),s.Rb(59,"ion-list-header"),s.Rb(60,"ion-label"),s.zc(61,"Did you consult your doctor or pharmacist before taking these medications? *"),s.Qb(),s.Qb(),s.xc(62,D,4,2,"ion-item",32),s.Qb(),s.Qb(),s.Rb(63,"ion-item"),s.Rb(64,"ion-label",28),s.zc(65,"Any questions about the product?"),s.Qb(),s.Rb(66,"ion-textarea",42),s.Zb("ngModelChange",(function(e){return s.qc(n),s.bc().formFields.question=e})),s.Qb(),s.Qb(),s.Rb(67,"ion-item",43),s.Rb(68,"ion-button",44),s.zc(69,"Submit"),s.Qb(),s.Qb(),s.Qb()}if(2&e){var i=s.bc();s.Ab(4),s.ic("ngModel",i.formFields.productName),s.Ab(4),s.ic("ngModel",i.formFields.content),s.Ab(2),s.ic("ngModel",i.formFields.frequency),s.Ab(4),s.ic("ngForOf",i.typeOfFrequency),s.Ab(1),s.ic("ngIf","Other- Please indicate"==i.formFields.frequency),s.Ab(4),s.ic("ngModel",i.formFields.dose),s.Ab(2),s.ic("ngModel",i.formFields.duration),s.Ab(4),s.ic("ngForOf",i.typeOfDuration),s.Ab(4),s.ic("ngModel",i.formFields.reason),s.Ab(2),s.ic("ngModel",i.formFields.purchase),s.Ab(4),s.ic("ngForOf",i.typeOfPurchase),s.Ab(1),s.ic("ngIf","Other- Please indicate"==i.formFields.purchase),s.Ab(2),s.ic("ngModel",i.formFields.isMedication),s.Ab(4),s.ic("ngForOf",i.isMedication),s.Ab(1),s.ic("ngIf","Yes"==i.formFields.isMedication),s.Ab(2),s.ic("ngModel",i.formFields.isSideEffect),s.Ab(4),s.ic("ngForOf",i.isSideEffect),s.Ab(1),s.ic("ngIf","Yes"==i.formFields.isSideEffect),s.Ab(2),s.ic("ngModel",i.formFields.isStillTaking),s.Ab(4),s.ic("ngForOf",i.isStillTaking),s.Ab(2),s.ic("ngModel",i.formFields.isConsult),s.Ab(4),s.ic("ngForOf",i.isConsult),s.Ab(4),s.ic("ngModel",i.formFields.question)}}function _(e,t){if(1&e){var n=s.Sb();s.Rb(0,"span",57),s.Zb("click",(function(){s.qc(n);var e=s.bc().row;return s.bc(3).openDetailsModal(e)})),s.Qb()}if(2&e){var i=s.bc().value;s.ic("innerHTML",i,s.rc)}}function B(e,t){if(1&e){var n=s.Sb();s.Rb(0,"span",57),s.Zb("click",(function(){s.qc(n);var e=s.bc().row;return s.bc(3).openUserModal(e.email)})),s.Qb()}if(2&e){var i=s.bc().value;s.ic("innerHTML",i,s.rc)}}function Z(e,t){if(1&e&&s.Nb(0,"span",58),2&e){var n=s.bc().value;s.ic("innerHTML",n,s.rc)}}function I(e,t){if(1&e&&(s.xc(0,_,1,1,"span",55),s.xc(1,B,1,1,"span",55),s.xc(2,Z,1,1,"span",56)),2&e){var n=s.bc().$implicit;s.ic("ngIf","Product Name"===n.name),s.Ab(1),s.ic("ngIf","Email"===n.name),s.Ab(1),s.ic("ngIf","Product Name"!==n.name&&"Email"!==n.name)}}function L(e,t){1&e&&(s.Rb(0,"ngx-datatable-column",53),s.xc(1,I,3,3,"ng-template",54),s.Qb()),2&e&&s.ic("name",t.$implicit.name)("width",200)}function H(e,t){if(1&e){var n=s.Sb();s.Rb(0,"ngx-datatable",51),s.Zb("page",(function(e){return s.qc(n),s.bc().setPage(e)}))("select",(function(e){return s.qc(n),s.bc().onSelect(e)}))("sort",(function(e){return s.qc(n),s.bc().onSort(e)})),s.xc(1,L,2,2,"ngx-datatable-column",52),s.Qb()}if(2&e){var i=s.bc();s.ic("rows",i.rows)("columnMode","force")("headerHeight",50)("footerHeight",50)("externalPaging",!0)("count",i.page.total)("offset",i.page.offset)("limit",i.page.limit)("scrollbarH",!0)("selected",i.selected)("selectionType","single")("externalSorting",!0),s.Ab(1),s.ic("ngForOf",i.columns)}}var j,W,Y,$=[{path:"",component:(j=function(){function e(t,n,i,o,a,c,r){_classCallCheck(this,e),this.pagePositionService=t,this.alertController=n,this.consultationService=i,this.tokenHelper=o,this.loadingController=a,this.datepipe=c,this.modalController=r,this.pageAtTop=!0,this.searchText="",this.segment="form",this.formFields={productName:"",content:"",frequency:"",otherFrequency:"",dose:"",duration:"",reason:"",purchase:"",otherPurchase:"",isMedication:"",medication:"",isSideEffect:"",sideEffect:"",isStillTaking:"",isConsult:"",question:"",createdAt:new Date,email:this.tokenHelper.getEmail()},this.mandatory=["productName","content","frequency","dose","duration","reason","purchase","isMedication","isSideEffect","isStillTaking","isConsult"],this.typeOfFrequency=["Once a day","Twice a day","Three times a day","Once a week","Other- Please indicate"],this.typeOfDuration=["Less than 6 months","6 months - 1 year","More than 1 year","More than 5 years","More than 10 years"],this.typeOfPurchase=["Pharmacy","Wellness center","Chinese medicine shop","Multilevel Marketing (MLM)","Traditional medicine shop","Other- Please indicate"],this.isMedication=["Yes","No"],this.isSideEffect=["Yes","No"],this.isStillTaking=["Yes","No"],this.isConsult=["Yes","No"],this.page=new Q,this.rows=new Array,this.columns=[{name:"Product Name"},{name:"Created At"},{name:"Email",prop:"email"}],this.selected=[],this.page.limit=5}return _createClass(e,[{key:"ngOnInit",value:function(){this.innerWidth=window.innerWidth,this.setPage({offset:0})}},{key:"getRole",value:function(){return this.tokenHelper.getRole()}},{key:"onResize",value:function(e){this.innerWidth=window.innerWidth}},{key:"onScroll",value:function(e){this.pageAtTop=this.pagePositionService.isPageAtTop(e)}},{key:"checkProperties",value:function(e){for(var t in e)if(this.mandatory.includes(t)&&(null==e[t]||""==e[t]))return!1;return!0}},{key:"logForm",value:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(this.formFields),0!=this.checkProperties(this.formFields)){e.next=8;break}return e.next=3,this.alertController.create({cssClass:"my-custom-class",header:"Form Incomplete",message:"Please complete all required fields (*) in the form.",buttons:["OK"]});case 3:return t=e.sent,e.next=6,t.present();case 6:e.next=9;break;case 8:this.consultationService.submitConsultationForm(this.formFields).subscribe((function(){return Object(r.a)(n,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Submit Successfully",message:"We will contact you soon.",buttons:[{text:"OK",handler:function(){n.formFields={productName:"",content:"",frequency:"",otherFrequency:"",dose:"",duration:"",reason:"",purchase:"",otherPurchase:"",isMedication:"",medication:"",isSideEffect:"",sideEffect:"",isStillTaking:"",isConsult:"",question:"",createdAt:new Date,email:""}}}]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}),(function(e){return Object(r.a)(n,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,this.alertController.create({cssClass:"my-custom-class",header:"Fail to submit",message:"Please try again.",buttons:["OK"]});case 3:return n=t.sent,t.next=6,n.present();case 6:case"end":return t.stop()}}),t,this)})))}));case 9:case"end":return e.stop()}}),e,this)})))}},{key:"setPage",value:function(e){var t=this;this.page.offset=e.offset,this.consultationService.getConsultationList(this.page).subscribe((function(e){console.log(e),t.page.offset=e.offset,t.page.total=e.total,t.page.totalPage=e.totalPage,t.rows=e.result.map((function(e){return{_id:e._id,productName:e.productName,content:e.content,frequency:e.frequency,otherFrequency:e.otherFrequency,dose:e.dose,duration:e.duration,reason:e.reason,purchase:e.purchase,otherPurchase:e.otherPurchase,isMedication:e.isMedication,medication:e.medication,isSideEffect:e.isSideEffect,sideEffect:e.sideEffect,isStillTaking:e.isStillTaking,isConsult:e.isConsult,question:e.question,createdAt:t.datepipe.transform(e.createdAt,"medium"),email:e.email}})),console.log(t.rows)}),(function(){t.stopLoading()}))}},{key:"search",value:function(e){var t=this;this.presentLoading();var n=e?e.target.value:this.searchText;this.page.offset=0,"productName"===this.page.searchBy?(this.page.productName=n,this.page.email=""):"email"===this.page.searchBy&&(this.page.productName="",this.page.email=n),this.consultationService.getConsultationList(this.page).subscribe((function(e){t.stopLoading(),t.page.offset=e.offset,t.page.total=e.total,t.page.totalPage=e.totalPage,t.rows=e.result.map((function(e){return{_id:e._id,productName:e.productName,content:e.content,frequency:e.frequency,otherFrequency:e.otherFrequency,dose:e.dose,duration:e.duration,reason:e.reason,purchase:e.purchase,otherPurchase:e.otherPurchase,isMedication:e.isMedication,medication:e.medication,isSideEffect:e.isSideEffect,sideEffect:e.sideEffect,isStillTaking:e.isStillTaking,isConsult:e.isConsult,question:e.question,createdAt:t.datepipe.transform(e.createdAt,"medium"),email:e.email}}))}),(function(){t.stopLoading()}))}},{key:"onSort",value:function(e){var t=this;this.page.orderBy=e.column.name.toLowerCase(),this.page.isAscending="asc"===e.newValue,this.consultationService.getConsultationList(this.page).subscribe((function(e){t.page.offset=e.offset,t.page.total=e.total,t.page.totalPage=e.totalPage,t.rows=e.user.map((function(e){return{_id:e._id,productName:e.productName,content:e.content,frequency:e.frequency,otherFrequency:e.otherFrequency,dose:e.dose,duration:e.duration,reason:e.reason,purchase:e.purchase,otherPurchase:e.otherPurchase,isMedication:e.isMedication,medication:e.medication,isSideEffect:e.isSideEffect,sideEffect:e.sideEffect,isStillTaking:e.isStillTaking,isConsult:e.isConsult,question:e.question,createdAt:t.datepipe.transform(e.createdAt,"medium"),email:e.email}}))}))}},{key:"onSelect",value:function(e){_objectDestructuringEmpty(e)}},{key:"presentLoading",value:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("start loading"),e.next=3,this.loadingController.create({cssClass:"my-custom-class",message:"Searching users..."});case 3:return t=e.sent,e.next=6,t.present();case 6:case"end":return e.stop()}}),e,this)})))}},{key:"stopLoading",value:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("stop loading"),this.loadingController.dismiss();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"openDetailsModal",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({cssClass:"custom-lg-modal",component:h,componentProps:{consultationDetails:e}});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"openUserModal",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({cssClass:"custom-lg-modal",component:R,componentProps:{email:e}});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}}),t,this)})))}}]),e}(),j.\u0275fac=function(e){return new(e||j)(s.Mb(M.a),s.Mb(a.a),s.Mb(p),s.Mb(y.a),s.Mb(a.Q),s.Mb(i.e),s.Mb(a.R))},j.\u0275cmp=s.Gb({type:j,selectors:[["app-consultation"]],hostBindings:function(e,t){1&e&&s.Zb("resize",(function(e){return t.onResize(e)}),!1,s.pc)},decls:46,vars:9,consts:[[3,"pageAtTop"],[3,"fullscreen","scrollEvents","ionScroll"],["id","container"],["id","navi"],[1,"circle-1"],["id","infoi"],[1,"ion-no-padding","page-height","ion-margin"],["size","1"],["size","10"],[1,"home-title"],["class","home-subtitle",4,"ngIf"],["size","12"],["size","0","size-md","1"],["size","10","size-md","9"],["showCancelButton","never","animated","","placeholder","Enter your search",3,"ngModel","keyup.enter","ngModelChange"],["size","2","size-md","2"],["color","primary","fill","solid",2,"margin-top","10px",3,"click"],["name","search-outline"],[3,"ngModel","ngModelChange"],[2,"margin-left","7vw","margin-right","7vw"],["lines","none","color","none"],["slot","start","mode","md","item-left","","value","productName"],["slot","start","mode","md","item-left","","value","email"],[3,"ngSubmit",4,"ngIf"],["class","material","rowHeight","auto","style","margin-bottom: 70vh",3,"rows","columnMode","headerHeight","footerHeight","externalPaging","count","offset","limit","scrollbarH","selected","selectionType","externalSorting","page","select","sort",4,"ngIf"],[3,"innerWidth"],[1,"home-subtitle"],[3,"ngSubmit"],["position","stacked"],["type","text","name","productName",3,"ngModel","ngModelChange"],["name","content",3,"ngModel","ngModelChange"],["name","frequency",3,"ngModel","ngModelChange"],["lines","none",4,"ngFor","ngForOf"],[4,"ngIf"],["type","text","name","dose",3,"ngModel","ngModelChange"],["name","duration",3,"ngModel","ngModelChange"],["name","reason",3,"ngModel","ngModelChange"],["name","purchase",3,"ngModel","ngModelChange"],["name","isMedication",3,"ngModel","ngModelChange"],["name","isSideEffect",3,"ngModel","ngModelChange"],["name","isStillTaking",3,"ngModel","ngModelChange"],["name","isConsult",3,"ngModel","ngModelChange"],["name","question",3,"ngModel","ngModelChange"],["lines","none",1,"ion-margin-top"],["type","submit","slot","end","size","default"],["lines","none"],["slot","start",3,"value"],["type","text","name","otherFrequency",3,"ngModel","ngModelChange"],["type","text","name","otherPurchase",3,"ngModel","ngModelChange"],["type","text","name","medication",3,"ngModel","ngModelChange"],["type","text","name","sideEffect",3,"ngModel","ngModelChange"],["rowHeight","auto",1,"material",2,"margin-bottom","70vh",3,"rows","columnMode","headerHeight","footerHeight","externalPaging","count","offset","limit","scrollbarH","selected","selectionType","externalSorting","page","select","sort"],[3,"name","width",4,"ngFor","ngForOf"],[3,"name","width"],["ngx-datatable-cell-template",""],["class","underlined-row",3,"innerHTML","click",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"underlined-row",3,"innerHTML","click"],[3,"innerHTML"]],template:function(e,t){1&e&&(s.Rb(0,"ion-header"),s.Nb(1,"app-header",0),s.Qb(),s.Rb(2,"ion-content",1),s.Zb("ionScroll",(function(e){return t.onScroll(e)})),s.Rb(3,"div",2),s.Rb(4,"div",3),s.Nb(5,"span",4),s.Qb(),s.Rb(6,"div",5),s.Rb(7,"ion-grid",6),s.Rb(8,"ion-row"),s.Nb(9,"ion-col",7),s.Rb(10,"ion-col",8),s.Rb(11,"h1",9),s.zc(12,"Consultation"),s.Qb(),s.xc(13,k,2,0,"p",10),s.Qb(),s.Nb(14,"ion-col",7),s.Rb(15,"ion-col",11),s.Rb(16,"ion-row"),s.Nb(17,"ion-col",12),s.Rb(18,"ion-col",13),s.Rb(19,"ion-searchbar",14),s.Zb("keyup.enter",(function(e){return t.search(e)}))("ngModelChange",(function(e){return t.searchText=e})),s.Qb(),s.Qb(),s.Rb(20,"ion-col",15),s.Rb(21,"ion-button",16),s.Zb("click",(function(){return t.search(!1)})),s.Nb(22,"ion-icon",17),s.Qb(),s.Qb(),s.Qb(),s.Rb(23,"ion-radio-group",18),s.Zb("ngModelChange",(function(e){return t.page.searchBy=e})),s.Rb(24,"ion-grid",19),s.Rb(25,"ion-row"),s.Rb(26,"ion-col"),s.Rb(27,"ion-item",20),s.Rb(28,"ion-label"),s.zc(29,"Search by:"),s.Qb(),s.Qb(),s.Qb(),s.Rb(30,"ion-col"),s.Rb(31,"ion-item",20),s.Rb(32,"ion-label"),s.zc(33,"Product Name"),s.Qb(),s.Nb(34,"ion-radio",21),s.Qb(),s.Qb(),s.Rb(35,"ion-col"),s.Rb(36,"ion-item",20),s.Rb(37,"ion-label"),s.zc(38,"Email"),s.Qb(),s.Nb(39,"ion-radio",22),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Nb(40,"ion-col",7),s.Rb(41,"ion-col",8),s.xc(42,T,70,23,"form",23),s.xc(43,H,2,13,"ngx-datatable",24),s.Qb(),s.Nb(44,"ion-col",7),s.Qb(),s.Qb(),s.Nb(45,"app-footer",25),s.Qb(),s.Qb(),s.Qb()),2&e&&(s.Ab(1),s.ic("pageAtTop",t.pageAtTop),s.Ab(1),s.ic("fullscreen",!0)("scrollEvents",!0),s.Ab(11),s.ic("ngIf","mobile user"==t.getRole()),s.Ab(6),s.ic("ngModel",t.searchText),s.Ab(4),s.ic("ngModel",t.page.searchBy),s.Ab(19),s.ic("ngIf","mobile user"==t.getRole()),s.Ab(1),s.ic("ngIf","senior data manager"==t.getRole()||"data manager"==t.getRole()),s.Ab(2),s.ic("innerWidth",t.innerWidth))},directives:[a.q,v.a,a.n,a.p,a.C,a.m,i.l,a.D,a.X,o.e,o.h,a.e,a.r,a.A,a.W,a.t,a.u,a.z,a.U,C.a,o.j,o.f,o.g,a.s,a.L,a.v,a.w,i.k,A.c,A.b,A.a],styles:[".circle-1[_ngcontent-%COMP%]{right:-434px;top:-554px;height:868px;width:868px}.circle-1[_ngcontent-%COMP%], .circle-2[_ngcontent-%COMP%]{position:absolute;background-color:#bbb;border-radius:50%;display:inline-block;background:#6078ea;background:linear-gradient(201deg,#6078ea,#17ead9)}.circle-2[_ngcontent-%COMP%]{left:-200px;top:1200px;height:500px;width:500px}#container[_ngcontent-%COMP%]{position:relative}#infoi[_ngcontent-%COMP%], #navi[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}#infoi[_ngcontent-%COMP%]{z-index:1}.page-height[_ngcontent-%COMP%]{min-height:100vh}.home-title[_ngcontent-%COMP%]{font-size:4rem;white-space:pre-wrap;margin-top:50px}.home-subtitle[_ngcontent-%COMP%]{font-size:1.5rem!important}.underlined-row[_ngcontent-%COMP%]{cursor:pointer}.underlined-row[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),j)}],K=((W=function e(){_classCallCheck(this,e)}).\u0275mod=s.Kb({type:W}),W.\u0275inj=s.Jb({factory:function(e){return new(e||W)},imports:[[c.i.forChild($)],c.i]}),W),U=n("iWjc"),G=((Y=function e(){_classCallCheck(this,e)}).\u0275mod=s.Kb({type:Y}),Y.\u0275inj=s.Jb({factory:function(e){return new(e||Y)},providers:[i.e],imports:[[i.c,o.a,a.O,K,A.d,U.a]]}),Y)}}]);