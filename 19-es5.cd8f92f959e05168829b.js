function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"6H4R":function(e,n,t){"use strict";t.r(n),t.d(n,"LoginPageModule",(function(){return P}));var o,r,i,s,a=t("ofXK"),c=t("3Pt+"),l=t("TEn/"),b=t("tyNb"),u=t("mrSG"),d=t("fXoL"),g=t("lGQG"),m=((o=function(){function e(n,t,o){_classCallCheck(this,e),this.modalController=n,this.toastController=t,this.authService=o}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"dismissModal",value:function(){this.modalController.dismiss()}},{key:"resetPassword",value:function(){var e=this;this.authService.forgotPassword(this.email).subscribe((function(){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.dismissModal(),e.next=3,this.toastController.create({header:"Reset password successfully",message:"New temporary password has been sent to your email. Please change the password immediately.",color:"success",duration:2e3});case 3:e.sent.present();case 4:case"end":return e.stop()}}),e,this)})))}),(function(){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastController.create({header:"Fail to reset password.",message:"Please try again.",color:"danger",duration:2e3});case 2:e.sent.present();case 3:case"end":return e.stop()}}),e,this)})))}))}}]),e}()).\u0275fac=function(e){return new(e||o)(d.Lb(l.P),d.Lb(l.U),d.Lb(g.a))},o.\u0275cmp=d.Fb({type:o,selectors:[["app-forgot-password"]],decls:31,vars:1,consts:[["color","tertiary"],["slot","end"],["shape","round","fill","clear",3,"click"],["name","close"],[1,"ion-text-center","ion-margin"],["size","12"],["name","mail","slot","start"],["position","floating"],[3,"ngModel","ngModelChange"],["expand","block",3,"click"]],template:function(e,n){1&e&&(d.Qb(0,"ion-header"),d.Qb(1,"ion-toolbar",0),d.Qb(2,"ion-title"),d.xc(3,"Forgot Password"),d.Pb(),d.Qb(4,"ion-buttons",1),d.Qb(5,"ion-button",2),d.Yb("click",(function(){return n.dismissModal()})),d.Mb(6,"ion-icon",3),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(7,"ion-content"),d.Qb(8,"ion-grid"),d.Qb(9,"ion-row"),d.Qb(10,"ion-col"),d.Qb(11,"p",4),d.xc(12," Enter your "),d.Qb(13,"strong"),d.xc(14,"email"),d.Pb(),d.xc(15," and we will send a "),d.Qb(16,"strong"),d.xc(17,"temporary password"),d.Pb(),d.xc(18," to the email address we have for your account. Please "),d.Qb(19,"strong"),d.xc(20,"change your password"),d.Pb(),d.xc(21," after you login. "),d.Pb(),d.Pb(),d.Qb(22,"ion-col",5),d.Qb(23,"ion-item"),d.Mb(24,"ion-icon",6),d.Qb(25,"ion-label",7),d.xc(26,"Email"),d.Pb(),d.Qb(27,"ion-input",8),d.Yb("ngModelChange",(function(e){return n.email=e})),d.Pb(),d.Pb(),d.Pb(),d.Qb(28,"ion-col",5),d.Qb(29,"ion-button",9),d.Yb("click",(function(){return n.resetPassword()})),d.xc(30,"Reset Password"),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb()),2&e&&(d.zb(27),d.gc("ngModel",n.email))},directives:[l.o,l.L,l.K,l.f,l.e,l.p,l.m,l.n,l.z,l.l,l.r,l.s,l.q,l.T,c.d,c.g],styles:[""]}),o),p=t("Yhfc"),h=[{path:"",component:(r=function(){function e(n,t,o,r,i,s,a,c){_classCallCheck(this,e),this.router=n,this.activatedRoute=t,this.location=o,this.authService=r,this.tokenHelper=i,this.loadingController=s,this.toastController=a,this.modalController=c,this.loginForm={email:"",password:""}}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"prevPage",value:function(){this.location.back()}},{key:"login",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadingController.create({cssClass:"my-custom-class",message:"Please wait..."});case 2:return n=e.sent,e.next=5,n.present();case 5:this.authService.login(this.loginForm).subscribe((function(){return Object(u.a)(t,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.router.navigate(["/home"]),e.next=3,this.toastController.create({header:"Login Success!",message:"You have successfully logged in.",color:"success",duration:2e3});case 3:e.sent.present(),n.dismiss();case 5:case"end":return e.stop()}}),e,this)})))}),(function(){return Object(u.a)(t,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastController.create({header:"Login Failed!",message:"Please make sure your username and password are correct.",color:"danger",duration:2e3});case 2:e.sent.present(),n.dismiss();case 4:case"end":return e.stop()}}),e,this)})))}));case 6:case"end":return e.stop()}}),e,this)})))}},{key:"forgotPassword",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.create({component:m});case 2:return n=e.sent,e.next=5,n.present();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})))}}]),e}(),r.\u0275fac=function(e){return new(e||r)(d.Lb(b.g),d.Lb(b.a),d.Lb(a.g),d.Lb(g.a),d.Lb(p.a),d.Lb(l.O),d.Lb(l.U),d.Lb(l.P))},r.\u0275cmp=d.Fb({type:r,selectors:[["app-login"]],decls:40,vars:2,consts:[["color","light"],["slot","start"],[3,"click"],["name","chevron-back"],[1,"row-1"],["size","1","size-sm","1.5","size-xl","2"],["size","10","size-sm","9","size-xl","8"],[1,"card-row-1"],["size","12","size-lg","6",1,"vertically-aligned-img"],["src","assets/img/USM_logo.png","height","40%","width","40%"],["size","12","size-lg","6"],[1,"row-1-title"],["color","dark"],[1,"row-1-subtitle"],[3,"ngSubmit"],["name","mail","slot","start"],["position","floating"],["type","email","name","email","required","",3,"ngModel","ngModelChange"],["name","lock-closed","slot","start"],["type","password","name","password","required","",3,"ngModel","ngModelChange"],["size","default","type","submit","slot","end","expand","block",1,"send-btn"],["size","12"],["lines","none"],["fill","clear","slot","end",3,"click"]],template:function(e,n){1&e&&(d.Qb(0,"ion-header"),d.Qb(1,"ion-toolbar",0),d.Qb(2,"ion-buttons",1),d.Qb(3,"ion-button",2),d.Yb("click",(function(){return n.prevPage()})),d.Mb(4,"ion-icon",3),d.xc(5," Back"),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(6,"ion-content"),d.Qb(7,"ion-row",4),d.Mb(8,"ion-col",5),d.Qb(9,"ion-col",6),d.Qb(10,"ion-card",7),d.Qb(11,"ion-card-content"),d.Qb(12,"ion-grid"),d.Qb(13,"ion-row"),d.Qb(14,"ion-col",8),d.Mb(15,"img",9),d.Pb(),d.Qb(16,"ion-col",10),d.Qb(17,"p",11),d.Qb(18,"ion-text",12),d.xc(19,"Log In"),d.Pb(),d.Pb(),d.Qb(20,"p",13),d.Qb(21,"ion-text"),d.xc(22,"Welcome back :)"),d.Pb(),d.Pb(),d.Qb(23,"form",14),d.Yb("ngSubmit",(function(){return n.login()})),d.Qb(24,"ion-item"),d.Mb(25,"ion-icon",15),d.Qb(26,"ion-label",16),d.xc(27,"Email"),d.Pb(),d.Qb(28,"ion-input",17),d.Yb("ngModelChange",(function(e){return n.loginForm.email=e})),d.Pb(),d.Pb(),d.Qb(29,"ion-item"),d.Mb(30,"ion-icon",18),d.Qb(31,"ion-label",16),d.xc(32,"Password"),d.Pb(),d.Qb(33,"ion-input",19),d.Yb("ngModelChange",(function(e){return n.loginForm.password=e})),d.Pb(),d.Pb(),d.Qb(34,"ion-button",20),d.xc(35,"Log In"),d.Pb(),d.Pb(),d.Pb(),d.Qb(36,"ion-col",21),d.Qb(37,"ion-item",22),d.Qb(38,"ion-button",23),d.Yb("click",(function(){return n.forgotPassword()})),d.xc(39,"Forgot password"),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb()),2&e&&(d.zb(28),d.gc("ngModel",n.loginForm.email),d.zb(5),d.gc("ngModel",n.loginForm.password))},directives:[l.o,l.L,l.f,l.e,l.p,l.m,l.z,l.l,l.g,l.h,l.n,l.I,c.i,c.e,c.f,l.r,l.s,l.q,l.T,c.h,c.d,c.g],styles:[".row-1[_ngcontent-%COMP%]{margin:40px 0;min-height:80vh}.card-row-1[_ngcontent-%COMP%]{margin-top:13vh}.vertically-aligned-img[_ngcontent-%COMP%]{text-align:center;margin:auto}.row-1-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600}.row-1-subtitle[_ngcontent-%COMP%]{font-size:16px}.send-btn[_ngcontent-%COMP%]{margin-top:30px}"]}),r)}],f=((s=function e(){_classCallCheck(this,e)}).\u0275mod=d.Jb({type:s}),s.\u0275inj=d.Ib({factory:function(e){return new(e||s)},imports:[[b.i.forChild(h)],b.i]}),s),P=((i=function e(){_classCallCheck(this,e)}).\u0275mod=d.Jb({type:i}),i.\u0275inj=d.Ib({factory:function(e){return new(e||i)},imports:[[a.c,c.a,l.M,f]]}),i)}}]);