function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{yQt4:function(e,t,n){"use strict";n.r(t),n.d(t,"SearchPageModule",(function(){return Q}));var i=n("ofXK"),a=n("3Pt+"),o=n("TEn/"),r=n("tyNb"),c=n("mrSG"),s=n("dfks"),l=n("Buy9"),g=n("fXoL"),b=n("KJTt"),p=n("QY0l"),h=n("2MiI"),u=n("lDzL"),f=n("LmEr");function d(e,t){if(1&e&&(g.Qb(0,"span"),g.xc(1),g.Pb()),2&e){var n=g.ac().value;g.zb(1),g.yc(n)}}function m(e,t){if(1&e){var n=g.Rb();g.Qb(0,"span"),g.Qb(1,"ion-button",27),g.Yb("click",(function(){g.oc(n);var e=g.ac().row;return g.ac(2).openAbstract(e)})),g.Mb(2,"ion-icon",28),g.Pb(),g.Qb(3,"ion-button",27),g.Yb("click",(function(){g.oc(n);var e=g.ac().row;return g.ac(2).navigateToArticle(e.link)})),g.Mb(4,"ion-icon",29),g.Pb(),g.Pb()}}function y(e,t){if(1&e&&(g.vc(0,d,2,1,"span",26),g.vc(1,m,5,0,"span",26)),2&e){var n=g.ac().$implicit;g.gc("ngIf","Actions"!==n.name),g.zb(1),g.gc("ngIf","Actions"===n.name)}}function P(e,t){1&e&&(g.Qb(0,"ngx-datatable-column",24),g.vc(1,y,2,2,"ng-template",25),g.Pb()),2&e&&g.gc("name",t.$implicit.name)("width",200)}var v,w,k,M=[{path:"",component:(v=function(){function e(t,n,i){_classCallCheck(this,e),this.pagePositionService=t,this.articleService=n,this.modalController=i,this.pageAtTop=!0,this.page=new s.a,this.rows=new Array,this.selected=[],this.searchText="",this.columns=[{name:"Title"},{name:"Category"},{name:"Year"},{name:"Actions"}],this.page.limit=5}return _createClass(e,[{key:"ngOnInit",value:function(){this.innerWidth=window.innerWidth,this.setPage({offset:0})}},{key:"onResize",value:function(e){this.innerWidth=window.innerWidth}},{key:"onScroll",value:function(e){this.pageAtTop=this.pagePositionService.isPageAtTop(e)}},{key:"setPage",value:function(e){var t=this;this.page.offset=e.offset,this.articleService.getArticleList(this.page).subscribe((function(e){t.page.offset=e.offset,t.page.totalArticles=e.totalArticles,t.page.totalPage=e.totalPage,t.rows=e.articles.map((function(e){return{_id:e._id,title:e.title,category:e.category,year:e.year,abstract:e.abstract,link:e.link}}))}))}},{key:"search",value:function(e){var t=this;this.page.offset=0,"title"===this.page.searchBy?(this.page.title=e.target.value,this.page.category="",this.page.year="",this.page.abstract=""):"category"===this.page.searchBy?(this.page.title="",this.page.category=e.target.value,this.page.year="",this.page.abstract=""):"year"===this.page.searchBy?(this.page.title="",this.page.category="",this.page.year=e.target.value,this.page.abstract=""):"abstract"===this.page.searchBy&&(this.page.title="",this.page.category="",this.page.year="",this.page.abstract=e.target.value),this.articleService.getArticleList(this.page).subscribe((function(e){t.page.offset=e.offset,t.page.totalArticles=e.totalArticles,t.page.totalPage=e.totalPage,t.rows=e.articles.map((function(e){return{_id:e._id,title:e.title,category:e.category,year:e.year,abstract:e.abstract,link:e.link}}))}))}},{key:"onSort",value:function(e){var t=this;this.page.orderBy=e.column.name.toLowerCase(),this.page.isAscending="asc"===e.newValue,this.articleService.getArticleList(this.page).subscribe((function(e){t.page.offset=e.offset,t.page.totalArticles=e.totalArticles,t.page.totalPage=e.totalPage,t.rows=e.articles.map((function(e){return{_id:e._id,title:e.title,category:e.category,year:e.year,abstract:e.abstract,link:e.link}}))}))}},{key:"openAbstract",value:function(e){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:l.a,componentProps:{article:e}});case 2:return n=t.sent,t.next=5,n.present();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"navigateToArticle",value:function(e){window.open(e)}}]),e}(),v.\u0275fac=function(e){return new(e||v)(g.Lb(b.a),g.Lb(p.a),g.Lb(o.P))},v.\u0275cmp=g.Fb({type:v,selectors:[["app-search"]],hostBindings:function(e,t){1&e&&g.Yb("resize",(function(e){return t.onResize(e)}),!1,g.nc)},decls:40,vars:17,consts:[[3,"pageAtTop"],[3,"fullscreen","scrollEvents","ionScroll"],["id","container"],["id","navi"],[1,"circle-1"],["id","infoi"],[1,"ion-no-padding","page-height"],["size","1"],["size","10","size-lg","6"],[1,"home-title"],[1,"home-subtitle"],["size","0","size-md","1"],["size","12","size-md","6"],["showCancelButton","focus","animated","","placeholder","Enter your search",3,"ngModel","keyup.enter","ngModelChange"],["size","12","size-md","4"],["interface","popover",3,"ngModel","ngModelChange"],["value","title"],["value","category"],["value","year"],["value","abstract"],["size","12","size-md","10"],["rowHeight","auto",1,"material",2,"margin-bottom","20vh",3,"rows","columnMode","headerHeight","footerHeight","externalPaging","count","offset","limit","scrollbarH","externalSorting","page","sort"],[3,"name","width",4,"ngFor","ngForOf"],[3,"innerWidth"],[3,"name","width"],["ngx-datatable-cell-template",""],[4,"ngIf"],["shape","round","fill","clear",3,"click"],["name","information-circle","color","tertiary"],["name","link","color","tertiary"]],template:function(e,t){1&e&&(g.Qb(0,"ion-header"),g.Mb(1,"app-header",0),g.Pb(),g.Qb(2,"ion-content",1),g.Yb("ionScroll",(function(e){return t.onScroll(e)})),g.Qb(3,"div",2),g.Qb(4,"div",3),g.Mb(5,"span",4),g.Pb(),g.Qb(6,"div",5),g.Qb(7,"ion-grid",6),g.Qb(8,"ion-row"),g.Mb(9,"ion-col",7),g.Qb(10,"ion-col",8),g.Qb(11,"h1",9),g.xc(12,"Search"),g.Pb(),g.Qb(13,"p",10),g.xc(14,"Let's start searching!"),g.Pb(),g.Pb(),g.Pb(),g.Qb(15,"ion-row"),g.Mb(16,"ion-col",11),g.Qb(17,"ion-col",12),g.Qb(18,"ion-searchbar",13),g.Yb("keyup.enter",(function(e){return t.search(e)}))("ngModelChange",(function(e){return t.searchText=e})),g.Pb(),g.Pb(),g.Qb(19,"ion-col",14),g.Qb(20,"ion-item"),g.Qb(21,"ion-label"),g.xc(22,"Search by"),g.Pb(),g.Qb(23,"ion-select",15),g.Yb("ngModelChange",(function(e){return t.page.searchBy=e})),g.Qb(24,"ion-select-option",16),g.xc(25,"Title"),g.Pb(),g.Qb(26,"ion-select-option",17),g.xc(27,"Category"),g.Pb(),g.Qb(28,"ion-select-option",18),g.xc(29,"Year"),g.Pb(),g.Qb(30,"ion-select-option",19),g.xc(31,"Abstract"),g.Pb(),g.Pb(),g.Pb(),g.Pb(),g.Mb(32,"ion-col",11),g.Pb(),g.Qb(33,"ion-row"),g.Mb(34,"ion-col",11),g.Qb(35,"ion-col",20),g.Qb(36,"ngx-datatable",21),g.Yb("page",(function(e){return t.setPage(e)}))("sort",(function(e){return t.onSort(e)})),g.vc(37,P,2,2,"ngx-datatable-column",22),g.Pb(),g.Pb(),g.Mb(38,"ion-col",11),g.Pb(),g.Pb(),g.Mb(39,"app-footer",23),g.Pb(),g.Pb(),g.Pb()),2&e&&(g.zb(1),g.gc("pageAtTop",t.pageAtTop),g.zb(1),g.gc("fullscreen",!0)("scrollEvents",!0),g.zb(16),g.gc("ngModel",t.searchText),g.zb(5),g.gc("ngModel",t.page.searchBy),g.zb(13),g.gc("rows",t.rows)("columnMode","force")("headerHeight",50)("footerHeight",50)("externalPaging",!0)("count",t.page.totalArticles)("offset",t.page.offset)("limit",t.page.limit)("scrollbarH",!0)("externalSorting",!0),g.zb(1),g.gc("ngForOf",t.columns),g.zb(2),g.gc("innerWidth",t.innerWidth))},directives:[o.o,h.a,o.m,o.n,o.z,o.l,o.A,o.T,a.d,a.g,o.r,o.s,o.D,o.S,o.E,u.c,i.j,f.a,u.b,u.a,i.k,o.e,o.p],styles:[".circle-1[_ngcontent-%COMP%]{right:-434px;top:-554px;height:868px;width:868px}.circle-1[_ngcontent-%COMP%], .circle-2[_ngcontent-%COMP%]{position:absolute;background-color:#bbb;border-radius:50%;display:inline-block;background:#6078ea;background:linear-gradient(201deg,#6078ea,#17ead9)}.circle-2[_ngcontent-%COMP%]{left:-200px;top:1200px;height:500px;width:500px}#container[_ngcontent-%COMP%]{position:relative}#infoi[_ngcontent-%COMP%], #navi[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}#infoi[_ngcontent-%COMP%]{z-index:1}.page-height[_ngcontent-%COMP%]{min-height:100vh}.home-title[_ngcontent-%COMP%]{font-size:4rem;white-space:pre-wrap;margin-top:50px}.home-subtitle[_ngcontent-%COMP%]{font-size:1.5rem!important}"]}),v)}],C=((w=function e(){_classCallCheck(this,e)}).\u0275mod=g.Jb({type:w}),w.\u0275inj=g.Ib({factory:function(e){return new(e||w)},imports:[[r.i.forChild(M)],r.i]}),w),x=n("iWjc"),Q=((k=function e(){_classCallCheck(this,e)}).\u0275mod=g.Jb({type:k}),k.\u0275inj=g.Ib({factory:function(e){return new(e||k)},imports:[[i.c,a.a,o.M,C,u.d,x.a]]}),k)}}]);