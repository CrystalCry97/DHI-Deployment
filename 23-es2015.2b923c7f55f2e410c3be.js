(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"6H4R":function(o,e,t){"use strict";t.r(e),t.d(e,"LoginPageModule",(function(){return m}));var n=t("ofXK"),i=t("3Pt+"),r=t("TEn/"),s=t("tyNb"),a=t("mrSG"),l=t("fXoL"),c=t("lGQG");let b=(()=>{class o{constructor(o,e,t){this.modalController=o,this.toastController=e,this.authService=t}ngOnInit(){}dismissModal(){this.modalController.dismiss()}resetPassword(){this.authService.forgotPassword(this.email).subscribe(()=>Object(a.a)(this,void 0,void 0,(function*(){this.dismissModal(),(yield this.toastController.create({header:"Reset password successfully",message:"New temporary password has been sent to your email. Please change the password immediately.",color:"success",duration:2e3})).present()})),()=>Object(a.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({header:"Fail to reset password.",message:"Please try again.",color:"danger",duration:2e3})).present()})))}}return o.\u0275fac=function(e){return new(e||o)(l.Mb(r.R),l.Mb(r.Y),l.Mb(c.a))},o.\u0275cmp=l.Gb({type:o,selectors:[["app-forgot-password"]],decls:31,vars:1,consts:[["color","tertiary"],["slot","end"],["shape","round","fill","clear",3,"click"],["name","close"],[1,"ion-text-center","ion-margin"],["size","12"],["name","mail","slot","start"],["position","floating"],[3,"ngModel","ngModelChange"],["expand","block",3,"click"]],template:function(o,e){1&o&&(l.Rb(0,"ion-header"),l.Rb(1,"ion-toolbar",0),l.Rb(2,"ion-title"),l.Ac(3,"Forgot Password"),l.Qb(),l.Rb(4,"ion-buttons",1),l.Rb(5,"ion-button",2),l.Zb("click",(function(){return e.dismissModal()})),l.Nb(6,"ion-icon",3),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Rb(7,"ion-content"),l.Rb(8,"ion-grid"),l.Rb(9,"ion-row"),l.Rb(10,"ion-col"),l.Rb(11,"p",4),l.Ac(12," Enter your "),l.Rb(13,"strong"),l.Ac(14,"email"),l.Qb(),l.Ac(15," and we will send a "),l.Rb(16,"strong"),l.Ac(17,"temporary password"),l.Qb(),l.Ac(18," to the email address we have for your account. Please "),l.Rb(19,"strong"),l.Ac(20,"change your password"),l.Qb(),l.Ac(21," after you login. "),l.Qb(),l.Qb(),l.Rb(22,"ion-col",5),l.Rb(23,"ion-item"),l.Nb(24,"ion-icon",6),l.Rb(25,"ion-label",7),l.Ac(26,"Email"),l.Qb(),l.Rb(27,"ion-input",8),l.Zb("ngModelChange",(function(o){return e.email=o})),l.Qb(),l.Qb(),l.Qb(),l.Rb(28,"ion-col",5),l.Rb(29,"ion-button",9),l.Zb("click",(function(){return e.resetPassword()})),l.Ac(30,"Reset Password"),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb()),2&o&&(l.Ab(27),l.ic("ngModel",e.email))},directives:[r.q,r.N,r.M,r.f,r.e,r.r,r.n,r.p,r.C,r.m,r.t,r.u,r.s,r.X,i.e,i.h],styles:[""]}),o})();var d=t("Yhfc");const u=[{path:"",component:(()=>{class o{constructor(o,e,t,n,i,r,s,a){this.router=o,this.activatedRoute=e,this.location=t,this.authService=n,this.tokenHelper=i,this.loadingController=r,this.toastController=s,this.modalController=a,this.loginForm={email:"",password:""}}ngOnInit(){}prevPage(){this.location.back()}login(){return Object(a.a)(this,void 0,void 0,(function*(){const o=yield this.loadingController.create({cssClass:"my-custom-class",message:"Please wait..."});yield o.present(),this.authService.login(this.loginForm).subscribe(()=>Object(a.a)(this,void 0,void 0,(function*(){this.router.navigate(["/home"]),(yield this.toastController.create({header:"Login Success!",message:"You have successfully logged in.",color:"success",duration:2e3})).present(),o.dismiss()})),()=>Object(a.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({header:"Login Failed!",message:"Please make sure your username and password are correct.",color:"danger",duration:2e3})).present(),o.dismiss()})))}))}forgotPassword(){return Object(a.a)(this,void 0,void 0,(function*(){const o=yield this.modalController.create({cssClass:"custom-md-modal ",component:b});return yield o.present()}))}register(){this.router.navigate(["/register"])}}return o.\u0275fac=function(e){return new(e||o)(l.Mb(s.g),l.Mb(s.a),l.Mb(n.h),l.Mb(c.a),l.Mb(d.a),l.Mb(r.Q),l.Mb(r.Y),l.Mb(r.R))},o.\u0275cmp=l.Gb({type:o,selectors:[["app-login"]],decls:41,vars:2,consts:[["color","light"],["slot","start"],[3,"click"],["name","chevron-back"],[1,"row-1"],["size","12"],[1,"card-row-1"],["size","12","size-lg","6",1,"vertically-aligned-img"],["src","assets/img/USM_logo.png","height","40%","width","40%"],["size","12","size-lg","6"],[1,"row-1-title"],["color","dark"],[1,"row-1-subtitle"],[3,"ngSubmit"],["name","mail","slot","start"],["position","floating"],["type","email","name","email","required","",3,"ngModel","ngModelChange"],["name","lock-closed","slot","start"],["type","password","name","password","required","",3,"ngModel","keyup.enter","ngModelChange"],["size","default","type","submit","slot","end","expand","block",1,"send-btn"],["lines","none"],["fill","clear","slot","start",3,"click"],["fill","clear","slot","end",3,"click"]],template:function(o,e){1&o&&(l.Rb(0,"ion-header"),l.Rb(1,"ion-toolbar",0),l.Rb(2,"ion-buttons",1),l.Rb(3,"ion-button",2),l.Zb("click",(function(){return e.prevPage()})),l.Nb(4,"ion-icon",3),l.Ac(5," Back"),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Rb(6,"ion-content"),l.Rb(7,"ion-row",4),l.Rb(8,"ion-col",5),l.Rb(9,"ion-card",6),l.Rb(10,"ion-card-content"),l.Rb(11,"ion-grid"),l.Rb(12,"ion-row"),l.Rb(13,"ion-col",7),l.Nb(14,"img",8),l.Qb(),l.Rb(15,"ion-col",9),l.Rb(16,"p",10),l.Rb(17,"ion-text",11),l.Ac(18,"Log In"),l.Qb(),l.Qb(),l.Rb(19,"p",12),l.Rb(20,"ion-text"),l.Ac(21,"Welcome back :)"),l.Qb(),l.Qb(),l.Rb(22,"form",13),l.Zb("ngSubmit",(function(){return e.login()})),l.Rb(23,"ion-item"),l.Nb(24,"ion-icon",14),l.Rb(25,"ion-label",15),l.Ac(26,"Email"),l.Qb(),l.Rb(27,"ion-input",16),l.Zb("ngModelChange",(function(o){return e.loginForm.email=o})),l.Qb(),l.Qb(),l.Rb(28,"ion-item"),l.Nb(29,"ion-icon",17),l.Rb(30,"ion-label",15),l.Ac(31,"Password"),l.Qb(),l.Rb(32,"ion-input",18),l.Zb("keyup.enter",(function(){return e.login()}))("ngModelChange",(function(o){return e.loginForm.password=o})),l.Qb(),l.Qb(),l.Rb(33,"ion-button",19),l.Ac(34,"Log In"),l.Qb(),l.Qb(),l.Qb(),l.Rb(35,"ion-col",5),l.Rb(36,"ion-item",20),l.Rb(37,"ion-button",21),l.Zb("click",(function(){return e.register()})),l.Ac(38,"Register"),l.Qb(),l.Rb(39,"ion-button",22),l.Zb("click",(function(){return e.forgotPassword()})),l.Ac(40,"Forgot password"),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb()),2&o&&(l.Ab(27),l.ic("ngModel",e.loginForm.email),l.Ab(5),l.ic("ngModel",e.loginForm.password))},directives:[r.q,r.N,r.f,r.e,r.r,r.n,r.C,r.m,r.g,r.h,r.p,r.K,i.j,i.f,i.g,r.t,r.u,r.s,r.X,i.i,i.e,i.h],styles:[".row-1[_ngcontent-%COMP%]{min-height:80vh}.card-row-1[_ngcontent-%COMP%]{margin-top:10vh}.vertically-aligned-img[_ngcontent-%COMP%]{text-align:center;margin:auto}.row-1-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600}.row-1-subtitle[_ngcontent-%COMP%]{font-size:16px}.send-btn[_ngcontent-%COMP%]{margin-top:30px}"]}),o})()}];let g=(()=>{class o{}return o.\u0275mod=l.Kb({type:o}),o.\u0275inj=l.Jb({factory:function(e){return new(e||o)},imports:[[s.i.forChild(u)],s.i]}),o})(),m=(()=>{class o{}return o.\u0275mod=l.Kb({type:o}),o.\u0275inj=l.Jb({factory:function(e){return new(e||o)},imports:[[n.c,i.a,r.O,g]]}),o})()}}]);