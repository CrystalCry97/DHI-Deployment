(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"9/eo":function(n,t,i){"use strict";i.d(t,"a",(function(){return p}));var o=i("mrSG"),e=i("fXoL"),a=i("TEn/"),c=i("nF61"),s=i("CzEO"),r=i("3Pt+"),b=i("ofXK");function l(n,t){if(1&n&&(e.Rb(0,"ion-select-option",20),e.Ac(1),e.Qb()),2&n){const n=t.$implicit;e.ic("value",n),e.Ab(1),e.Cc("",n,"\xa0\xa0")}}function d(n,t){if(1&n&&(e.Rb(0,"ion-select-option",20),e.Ac(1),e.Qb()),2&n){const n=t.$implicit;e.ic("value",n),e.Ab(1),e.Cc("",n,"\xa0\xa0")}}function u(n,t){if(1&n&&(e.Rb(0,"ion-select-option",20),e.Ac(1),e.Qb()),2&n){const n=t.$implicit;e.ic("value",n),e.Ab(1),e.Cc("",n,"\xa0\xa0")}}let p=(()=>{class n{constructor(n,t,i){this.modalController=n,this.annotationService=t,this.toastController=i,this.typeOfStudy=new Array,this.typeOfInteractions=new Array,this.significance=new Array,this.annotation={_id:"",product:"",plant:"",components:"",study:"",interactions:"",significance:"",comments:"",articleId:"",descriptions:"",approved:"pending"},this.getAttributes()}ngOnInit(){this.annotation.articleId=this.articleId}getAttributes(){this.annotationService.getAttributes().subscribe(n=>{this.typeOfStudy=n.find(n=>"Type of Study"===n.attr_name).attr_value,this.typeOfInteractions=n.find(n=>"Type of Interactions"===n.attr_name).attr_value,this.significance=n.find(n=>"Significance"===n.attr_name).attr_value})}dismissModal(){this.modalController.dismiss()}changedEditor(n){console.log("editor-change",n)}addAnnotation(){this.annotationService.addAnnotation(this.annotation).subscribe(()=>Object(o.a)(this,void 0,void 0,(function*(){this.dismissModal(),(yield this.toastController.create({header:"Add data annotation success!",color:"success",duration:2e3})).present()})),()=>Object(o.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({header:"Fail to add data annotation!",color:"danger",duration:2e3})).present()})))}}return n.\u0275fac=function(t){return new(t||n)(e.Mb(a.R),e.Mb(c.a),e.Mb(a.Y))},n.\u0275cmp=e.Gb({type:n,selectors:[["app-add-annotation"]],inputs:{articleId:"articleId"},decls:54,vars:10,consts:[["color","tertiary"],["slot","end"],["shape","round","fill","clear",3,"click"],["name","close"],["lines","none"],["name","basket-outline","slot","start"],[1,"textfield",3,"ngModel","ngModelChange"],["name","leaf","slot","start"],["name","logo-web-component","slot","start"],["name","book","slot","start"],["position","floating"],["interface","popover",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","chatbubbles","slot","start"],["name","thumbs-up","slot","start"],["name","chatbubble-ellipses","slot","start"],[1,"textarea",3,"ngModel","ngModelChange"],["lines","none",1,"ion-margin-top"],["slot","end","size","default",3,"click"],["name","save","slot","start"],[3,"value"]],template:function(n,t){1&n&&(e.Rb(0,"ion-header"),e.Rb(1,"ion-toolbar",0),e.Rb(2,"ion-title"),e.Ac(3,"Add Annotation"),e.Qb(),e.Rb(4,"ion-buttons",1),e.Rb(5,"ion-button",2),e.Zb("click",(function(){return t.dismissModal()})),e.Nb(6,"ion-icon",3),e.Qb(),e.Qb(),e.Qb(),e.Qb(),e.Rb(7,"ion-content"),e.Rb(8,"ion-grid"),e.Rb(9,"ion-row"),e.Rb(10,"ion-col"),e.Rb(11,"ion-item",4),e.Nb(12,"ion-icon",5),e.Rb(13,"ion-label"),e.Ac(14,"Product Name"),e.Qb(),e.Qb(),e.Rb(15,"quill-editor",6),e.Zb("ngModelChange",(function(n){return t.annotation.product=n})),e.Qb(),e.Rb(16,"ion-item",4),e.Nb(17,"ion-icon",7),e.Rb(18,"ion-label"),e.Ac(19,"Name of Plant"),e.Qb(),e.Qb(),e.Rb(20,"quill-editor",6),e.Zb("ngModelChange",(function(n){return t.annotation.plant=n})),e.Qb(),e.Rb(21,"ion-item",4),e.Nb(22,"ion-icon",8),e.Rb(23,"ion-label"),e.Ac(24,"Active Components"),e.Qb(),e.Qb(),e.Rb(25,"quill-editor",6),e.Zb("ngModelChange",(function(n){return t.annotation.components=n})),e.Qb(),e.Rb(26,"ion-item"),e.Nb(27,"ion-icon",9),e.Rb(28,"ion-label",10),e.Ac(29,"Type of Study"),e.Qb(),e.Rb(30,"ion-select",11),e.Zb("ngModelChange",(function(n){return t.annotation.study=n})),e.yc(31,l,2,2,"ion-select-option",12),e.Qb(),e.Qb(),e.Rb(32,"ion-item"),e.Nb(33,"ion-icon",13),e.Rb(34,"ion-label",10),e.Ac(35,"Type of Interactions"),e.Qb(),e.Rb(36,"ion-select",11),e.Zb("ngModelChange",(function(n){return t.annotation.interactions=n})),e.yc(37,d,2,2,"ion-select-option",12),e.Qb(),e.Qb(),e.Rb(38,"ion-item"),e.Nb(39,"ion-icon",14),e.Rb(40,"ion-label",10),e.Ac(41,"Significance"),e.Qb(),e.Rb(42,"ion-select",11),e.Zb("ngModelChange",(function(n){return t.annotation.significance=n})),e.yc(43,u,2,2,"ion-select-option",12),e.Qb(),e.Qb(),e.Rb(44,"ion-item",4),e.Nb(45,"ion-icon",15),e.Rb(46,"ion-label"),e.Ac(47,"Description"),e.Qb(),e.Qb(),e.Rb(48,"quill-editor",16),e.Zb("ngModelChange",(function(n){return t.annotation.descriptions=n})),e.Qb(),e.Rb(49,"ion-item",17),e.Rb(50,"ion-button",18),e.Zb("click",(function(){return t.addAnnotation()})),e.Nb(51,"ion-icon",19),e.Rb(52,"ion-label"),e.Ac(53,"Add"),e.Qb(),e.Qb(),e.Qb(),e.Qb(),e.Qb(),e.Qb(),e.Qb()),2&n&&(e.Ab(15),e.ic("ngModel",t.annotation.product),e.Ab(5),e.ic("ngModel",t.annotation.plant),e.Ab(5),e.ic("ngModel",t.annotation.components),e.Ab(5),e.ic("ngModel",t.annotation.study),e.Ab(1),e.ic("ngForOf",t.typeOfStudy),e.Ab(5),e.ic("ngModel",t.annotation.interactions),e.Ab(1),e.ic("ngForOf",t.typeOfInteractions),e.Ab(5),e.ic("ngModel",t.annotation.significance),e.Ab(1),e.ic("ngForOf",t.significance),e.Ab(5),e.ic("ngModel",t.annotation.descriptions))},directives:[a.q,a.N,a.M,a.f,a.e,a.r,a.n,a.p,a.C,a.m,a.t,a.u,s.a,r.e,r.h,a.E,a.W,b.k,a.F],styles:[""]}),n})()},QuQm:function(n,t,i){"use strict";i.d(t,"a",(function(){return o}));class o{constructor(){this.limit=0,this.totalAnnotations=0,this.totalPage=0,this.offset=0,this.searchBy="product",this.orderBy="createdAt",this.isAscending=!0,this._id="",this.product="",this.plant="",this.components="",this.study="",this.interactions="",this.significance="",this.approved="pending",this.articleId="",this.requestUser=!1,this.approvalUser=!1,this.requestUserId=""}}},VQbp:function(n,t,i){"use strict";i.d(t,"a",(function(){return a}));var o=i("fXoL"),e=i("TEn/");let a=(()=>{class n{constructor(n){this.modalController=n}ngOnInit(){this.article=this.annotation.articleId,this.setArticle()}setArticle(){}dismissModal(){this.modalController.dismiss()}openExternal(){window.open(this.article.link)}}return n.\u0275fac=function(t){return new(t||n)(o.Mb(e.R))},n.\u0275cmp=o.Gb({type:n,selectors:[["app-annotation-info"]],inputs:{annotation:"annotation"},decls:31,vars:7,consts:[["color","tertiary"],["slot","end"],["shape","round","fill","clear",3,"click"],["name","close"],[3,"button"],[3,"innerHTML"],["expand","block",3,"click"]],template:function(n,t){1&n&&(o.Rb(0,"ion-header"),o.Rb(1,"ion-toolbar",0),o.Rb(2,"ion-title"),o.Ac(3,"Annotation Info"),o.Qb(),o.Rb(4,"ion-buttons",1),o.Rb(5,"ion-button",2),o.Zb("click",(function(){return t.dismissModal()})),o.Nb(6,"ion-icon",3),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Rb(7,"ion-content"),o.Rb(8,"ion-grid"),o.Rb(9,"ion-row"),o.Rb(10,"ion-col"),o.Rb(11,"ion-card",4),o.Rb(12,"ion-card-header"),o.Rb(13,"ion-card-title"),o.Ac(14,"Annotation descriptions"),o.Qb(),o.Qb(),o.Rb(15,"ion-card-content"),o.Nb(16,"div",5),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Rb(17,"ion-row"),o.Rb(18,"ion-col"),o.Rb(19,"ion-card",4),o.Rb(20,"ion-card-header"),o.Rb(21,"ion-card-subtitle"),o.Ac(22),o.Qb(),o.Rb(23,"ion-card-title"),o.Ac(24),o.Qb(),o.Rb(25,"ion-card-subtitle"),o.Ac(26),o.Qb(),o.Qb(),o.Rb(27,"ion-card-content"),o.Ac(28),o.Qb(),o.Rb(29,"ion-button",6),o.Zb("click",(function(){return t.openExternal()})),o.Ac(30,"Open External Link"),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb()),2&n&&(o.Ab(11),o.ic("button",!1),o.Ab(5),o.ic("innerHTML",t.annotation.descriptions,o.sc),o.Ab(3),o.ic("button",!1),o.Ab(3),o.Bc(t.article.category),o.Ab(2),o.Bc(t.article.title),o.Ab(2),o.Bc(t.article.year),o.Ab(2),o.Cc(" ",t.article.abstract," "))},directives:[e.q,e.N,e.M,e.f,e.e,e.r,e.n,e.p,e.C,e.m,e.g,e.i,e.k,e.h,e.j],styles:[""]}),n})()},nF61:function(n,t,i){"use strict";i.d(t,"a",(function(){return c}));var o=i("AytR"),e=i("fXoL"),a=i("tk/3");let c=(()=>{class n{constructor(n){this.http=n,this.href=o.a.api_endpoint+"/annotation"}getAttributes(){return this.http.get(this.href+"/attr/get")}addAnnotation(n){return this.http.post(this.href+"/add",{product:n.product,plant:n.plant,components:n.components,study:n.study,interactions:n.interactions,significance:n.significance,articleId:n.articleId,descriptions:n.descriptions})}getAnnotationList(n){return this.http.get(`${this.href}/get?orderBy=${n.orderBy}&isAscending=${n.isAscending}&limit=${n.limit}&offset=${n.offset}&product=${n.product}&plant=${n.plant}&components=${n.components}&study=${n.study}&interactions=${n.interactions}&significance=${n.significance}&articleId=${n.articleId}&requestUser=${n.requestUser}&requestUserId=${n.requestUserId}&approvalUser=${n.approvalUser}&approved=${n.approved}`)}editAnnotation(n){return this.http.post(this.href+"/patch",n)}deleteAnnotation(n){return this.http.post(this.href+"/remove",{annotationId:n._id,confirm:!0})}approveAnnotation(n){return this.http.post(this.href+"/approve",n)}}return n.\u0275fac=function(t){return new(t||n)(e.Vb(a.b))},n.\u0275prov=e.Ib({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},nKRM:function(n,t,i){"use strict";i.d(t,"a",(function(){return p}));var o=i("mrSG"),e=i("fXoL"),a=i("TEn/"),c=i("nF61"),s=i("CzEO"),r=i("3Pt+"),b=i("ofXK");function l(n,t){if(1&n&&(e.Rb(0,"ion-select-option",19),e.Ac(1),e.Qb()),2&n){const n=t.$implicit;e.ic("value",n),e.Ab(1),e.Cc("",n,"\xa0\xa0")}}function d(n,t){if(1&n&&(e.Rb(0,"ion-select-option",19),e.Ac(1),e.Qb()),2&n){const n=t.$implicit;e.ic("value",n),e.Ab(1),e.Cc("",n,"\xa0\xa0")}}function u(n,t){if(1&n&&(e.Rb(0,"ion-select-option",19),e.Ac(1),e.Qb()),2&n){const n=t.$implicit;e.ic("value",n),e.Ab(1),e.Cc("",n,"\xa0\xa0")}}let p=(()=>{class n{constructor(n,t,i){this.modalController=n,this.annotationService=t,this.toastController=i,this.typeOfStudy=new Array,this.typeOfInteractions=new Array,this.significance=new Array,this.getAttributes()}ngOnInit(){console.log("This>Annotation:",this.annotation)}dismissModal(){this.modalController.dismiss()}getAttributes(){this.annotationService.getAttributes().subscribe(n=>{this.typeOfStudy=n.find(n=>"Type of Study"===n.attr_name).attr_value,this.typeOfInteractions=n.find(n=>"Type of Interactions"===n.attr_name).attr_value,this.significance=n.find(n=>"Significance"===n.attr_name).attr_value})}editAnnotation(){this.annotationService.editAnnotation(this.annotation).subscribe(()=>Object(o.a)(this,void 0,void 0,(function*(){this.dismissModal(),(yield this.toastController.create({header:`Edit ${this.annotation.plant} success!`,color:"success",duration:2e3})).present()})),()=>Object(o.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({header:"Failed to edit "+this.annotation.plant,color:"danger",duration:2e3})).present()})))}}return n.\u0275fac=function(t){return new(t||n)(e.Mb(a.R),e.Mb(c.a),e.Mb(a.Y))},n.\u0275cmp=e.Gb({type:n,selectors:[["app-edit-annotation"]],inputs:{annotation:"annotation"},decls:54,vars:10,consts:[["color","tertiary"],["slot","end"],["shape","round","fill","clear",3,"click"],["name","close"],["lines","none"],["name","basket-outline","slot","start"],[1,"textfield",3,"ngModel","ngModelChange"],["name","leaf","slot","start"],["name","logo-web-component","slot","start"],["name","book","slot","start"],["interface","popover",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","chatbubbles","slot","start"],["name","thumbs-up","slot","start"],["name","chatbubble-ellipses","slot","start"],[1,"textarea",3,"ngModel","ngModelChange"],["lines","none",1,"ion-margin-top"],["slot","end","size","default",3,"click"],["name","save","slot","start"],[3,"value"]],template:function(n,t){1&n&&(e.Rb(0,"ion-header"),e.Rb(1,"ion-toolbar",0),e.Rb(2,"ion-title"),e.Ac(3,"Edit Annotation"),e.Qb(),e.Rb(4,"ion-buttons",1),e.Rb(5,"ion-button",2),e.Zb("click",(function(){return t.dismissModal()})),e.Nb(6,"ion-icon",3),e.Qb(),e.Qb(),e.Qb(),e.Qb(),e.Rb(7,"ion-content"),e.Rb(8,"ion-grid"),e.Rb(9,"ion-row"),e.Rb(10,"ion-col"),e.Rb(11,"ion-item",4),e.Nb(12,"ion-icon",5),e.Rb(13,"ion-label"),e.Ac(14,"Product Name"),e.Qb(),e.Qb(),e.Rb(15,"quill-editor",6),e.Zb("ngModelChange",(function(n){return t.annotation.product=n})),e.Qb(),e.Rb(16,"ion-item",4),e.Nb(17,"ion-icon",7),e.Rb(18,"ion-label"),e.Ac(19,"Name of Plant"),e.Qb(),e.Qb(),e.Rb(20,"quill-editor",6),e.Zb("ngModelChange",(function(n){return t.annotation.plant=n})),e.Qb(),e.Rb(21,"ion-item",4),e.Nb(22,"ion-icon",8),e.Rb(23,"ion-label"),e.Ac(24,"Active Components"),e.Qb(),e.Qb(),e.Rb(25,"quill-editor",6),e.Zb("ngModelChange",(function(n){return t.annotation.components=n})),e.Qb(),e.Rb(26,"ion-item"),e.Nb(27,"ion-icon",9),e.Rb(28,"ion-label"),e.Ac(29,"Type of Study"),e.Qb(),e.Rb(30,"ion-select",10),e.Zb("ngModelChange",(function(n){return t.annotation.study=n})),e.yc(31,l,2,2,"ion-select-option",11),e.Qb(),e.Qb(),e.Rb(32,"ion-item"),e.Nb(33,"ion-icon",12),e.Rb(34,"ion-label"),e.Ac(35,"Type of Interactions"),e.Qb(),e.Rb(36,"ion-select",10),e.Zb("ngModelChange",(function(n){return t.annotation.interactions=n})),e.yc(37,d,2,2,"ion-select-option",11),e.Qb(),e.Qb(),e.Rb(38,"ion-item"),e.Nb(39,"ion-icon",13),e.Rb(40,"ion-label"),e.Ac(41,"Significance"),e.Qb(),e.Rb(42,"ion-select",10),e.Zb("ngModelChange",(function(n){return t.annotation.significance=n})),e.yc(43,u,2,2,"ion-select-option",11),e.Qb(),e.Qb(),e.Rb(44,"ion-item",4),e.Nb(45,"ion-icon",14),e.Rb(46,"ion-label"),e.Ac(47,"Descriptions"),e.Qb(),e.Qb(),e.Rb(48,"quill-editor",15),e.Zb("ngModelChange",(function(n){return t.annotation.descriptions=n})),e.Qb(),e.Rb(49,"ion-item",16),e.Rb(50,"ion-button",17),e.Zb("click",(function(){return t.editAnnotation()})),e.Nb(51,"ion-icon",18),e.Rb(52,"ion-label"),e.Ac(53,"Save"),e.Qb(),e.Qb(),e.Qb(),e.Qb(),e.Qb(),e.Qb(),e.Qb()),2&n&&(e.Ab(15),e.ic("ngModel",t.annotation.product),e.Ab(5),e.ic("ngModel",t.annotation.plant),e.Ab(5),e.ic("ngModel",t.annotation.components),e.Ab(5),e.ic("ngModel",t.annotation.study),e.Ab(1),e.ic("ngForOf",t.typeOfStudy),e.Ab(5),e.ic("ngModel",t.annotation.interactions),e.Ab(1),e.ic("ngForOf",t.typeOfInteractions),e.Ab(5),e.ic("ngModel",t.annotation.significance),e.Ab(1),e.ic("ngForOf",t.significance),e.Ab(5),e.ic("ngModel",t.annotation.descriptions))},directives:[a.q,a.N,a.M,a.f,a.e,a.r,a.n,a.p,a.C,a.m,a.t,a.u,s.a,r.e,r.h,a.E,a.W,b.k,a.F],styles:[""]}),n})()}}]);